



<!DOCTYPE html>
<html lang="de" class="no-js">
  <head>
    
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width,initial-scale=1">
      <meta http-equiv="x-ua-compatible" content="ie=edge">
      
        <meta name="description" content="Das learn2proGrAME Grundlagentutorial zur Spieleprogrammierung mit C# in Unity">
      
      
        <link rel="canonical" href="https://learn2programe.github.io/learn2proGrAME-Grundlagen/0280-bouncyfant/T08-win/">
      
      
        <meta name="author" content="learn2proGrAME">
      
      
        <meta name="lang:clipboard.copy" content="In Zwischenablage kopieren">
      
        <meta name="lang:clipboard.copied" content="In Zwischenablage kopiert">
      
        <meta name="lang:search.language" content="de">
      
        <meta name="lang:search.pipeline.stopwords" content="True">
      
        <meta name="lang:search.pipeline.trimmer" content="True">
      
        <meta name="lang:search.result.none" content="Keine Suchergebnisse">
      
        <meta name="lang:search.result.one" content="1 Suchergebnis">
      
        <meta name="lang:search.result.other" content="# Suchergebnisse">
      
        <meta name="lang:search.tokenizer" content="[\s\-]+">
      
      <link rel="shortcut icon" href="../../assets/images/favicon.png">
      <meta name="generator" content="mkdocs-1.0.4, mkdocs-material-3.1.0">
    
    
      
        <title>Teil 8 - Gewinnbedingung - learn2proGrAME Grundlagentutorial</title>
      
    
    
      <link rel="stylesheet" href="../../assets/stylesheets/application.11e41852.css">
      
        <link rel="stylesheet" href="../../assets/stylesheets/application-palette.22915126.css">
      
      
        
        
        <meta name="theme-color" content="#03a9f4">
      
    
    
      <script src="../../assets/javascripts/modernizr.20ef595d.js"></script>
    
    
      
        <link href="https://fonts.gstatic.com" rel="preconnect" crossorigin>
        <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto:300,400,400i,700|Roboto+Mono">
        <style>body,input{font-family:"Roboto","Helvetica Neue",Helvetica,Arial,sans-serif}code,kbd,pre{font-family:"Roboto Mono","Courier New",Courier,monospace}</style>
      
    
    <link rel="stylesheet" href="../../assets/fonts/material-icons.css">
    
      <link rel="manifest" href="../../manifest.webmanifest">
    
    
    
  </head>
  
    
    
    <body dir="ltr" data-md-color-primary="light-blue" data-md-color-accent="orange">
  
    <svg class="md-svg">
      <defs>
        
        
          <svg xmlns="http://www.w3.org/2000/svg" width="416" height="448"
    viewBox="0 0 416 448" id="__github">
  <path fill="currentColor" d="M160 304q0 10-3.125 20.5t-10.75 19-18.125
        8.5-18.125-8.5-10.75-19-3.125-20.5 3.125-20.5 10.75-19 18.125-8.5
        18.125 8.5 10.75 19 3.125 20.5zM320 304q0 10-3.125 20.5t-10.75
        19-18.125 8.5-18.125-8.5-10.75-19-3.125-20.5 3.125-20.5 10.75-19
        18.125-8.5 18.125 8.5 10.75 19 3.125 20.5zM360
        304q0-30-17.25-51t-46.75-21q-10.25 0-48.75 5.25-17.75 2.75-39.25
        2.75t-39.25-2.75q-38-5.25-48.75-5.25-29.5 0-46.75 21t-17.25 51q0 22 8
        38.375t20.25 25.75 30.5 15 35 7.375 37.25 1.75h42q20.5 0
        37.25-1.75t35-7.375 30.5-15 20.25-25.75 8-38.375zM416 260q0 51.75-15.25
        82.75-9.5 19.25-26.375 33.25t-35.25 21.5-42.5 11.875-42.875 5.5-41.75
        1.125q-19.5 0-35.5-0.75t-36.875-3.125-38.125-7.5-34.25-12.875-30.25-20.25-21.5-28.75q-15.5-30.75-15.5-82.75
        0-59.25 34-99-6.75-20.5-6.75-42.5 0-29 12.75-54.5 27 0 47.5 9.875t47.25
        30.875q36.75-8.75 77.25-8.75 37 0 70 8 26.25-20.5
        46.75-30.25t47.25-9.75q12.75 25.5 12.75 54.5 0 21.75-6.75 42 34 40 34
        99.5z" />
</svg>
        
      </defs>
    </svg>
    <input class="md-toggle" data-md-toggle="drawer" type="checkbox" id="__drawer" autocomplete="off">
    <input class="md-toggle" data-md-toggle="search" type="checkbox" id="__search" autocomplete="off">
    <label class="md-overlay" data-md-component="overlay" for="__drawer"></label>
    
      <a href="#teil-8-play-to-compete-cooperate-to-win" tabindex="1" class="md-skip">
        Zum Inhalt
      </a>
    
    
      <header class="md-header" data-md-component="header">
  <nav class="md-header-nav md-grid">
    <div class="md-flex">
      <div class="md-flex__cell md-flex__cell--shrink">
        <a href="https://learn2programe.github.io/learn2proGrAME-Grundlagen/" title="learn2proGrAME Grundlagentutorial" class="md-header-nav__button md-logo">
          
            <img src="../../0200-adventure/img/elliLogo.png" width="24" height="24">
          
        </a>
      </div>
      <div class="md-flex__cell md-flex__cell--shrink">
        <label class="md-icon md-icon--menu md-header-nav__button" for="__drawer"></label>
      </div>
      <div class="md-flex__cell md-flex__cell--stretch">
        <div class="md-flex__ellipsis md-header-nav__title" data-md-component="title">
          
            
              <span class="md-header-nav__topic">
                learn2proGrAME Grundlagentutorial
              </span>
              <span class="md-header-nav__topic">
                Teil 8 - Gewinnbedingung
              </span>
            
          
        </div>
      </div>
      <div class="md-flex__cell md-flex__cell--shrink">
        
          
            <label class="md-icon md-icon--search md-header-nav__button" for="__search"></label>
            
<div class="md-search" data-md-component="search" role="dialog">
  <label class="md-search__overlay" for="__search"></label>
  <div class="md-search__inner" role="search">
    <form class="md-search__form" name="search">
      <input type="text" class="md-search__input" name="query" placeholder="Suche" autocapitalize="off" autocorrect="off" autocomplete="off" spellcheck="false" data-md-component="query" data-md-state="active">
      <label class="md-icon md-search__icon" for="__search"></label>
      <button type="reset" class="md-icon md-search__icon" data-md-component="reset" tabindex="-1">
        &#xE5CD;
      </button>
    </form>
    <div class="md-search__output">
      <div class="md-search__scrollwrap" data-md-scrollfix>
        <div class="md-search-result" data-md-component="result">
          <div class="md-search-result__meta">
            Suchbegriff eingeben
          </div>
          <ol class="md-search-result__list"></ol>
        </div>
      </div>
    </div>
  </div>
</div>
          
        
      </div>
      
        <div class="md-flex__cell md-flex__cell--shrink">
          <div class="md-header-nav__source">
            


  


  <a href="https://github.com/learn2proGrAME/learn2proGrAME-Grundlagen/" title="Quellcode" class="md-source" data-md-source="github">
    
      <div class="md-source__icon">
        <svg viewBox="0 0 24 24" width="24" height="24">
          <use xlink:href="#__github" width="24" height="24"></use>
        </svg>
      </div>
    
    <div class="md-source__repository">
      learn2proGrAME/learn2proGrAME-Grundlagen
    </div>
  </a>

          </div>
        </div>
      
    </div>
  </nav>
</header>
    
    <div class="md-container">
      
        
      
      
      <main class="md-main">
        <div class="md-main__inner md-grid" data-md-component="container">
          
            
              <div class="md-sidebar md-sidebar--primary" data-md-component="navigation">
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    <nav class="md-nav md-nav--primary" data-md-level="0">
  <label class="md-nav__title md-nav__title--site" for="__drawer">
    <a href="https://learn2programe.github.io/learn2proGrAME-Grundlagen/" title="learn2proGrAME Grundlagentutorial" class="md-nav__button md-logo">
      
        <img src="../../0200-adventure/img/elliLogo.png" width="48" height="48">
      
    </a>
    learn2proGrAME Grundlagentutorial
  </label>
  
    <div class="md-nav__source">
      


  


  <a href="https://github.com/learn2proGrAME/learn2proGrAME-Grundlagen/" title="Quellcode" class="md-source" data-md-source="github">
    
      <div class="md-source__icon">
        <svg viewBox="0 0 24 24" width="24" height="24">
          <use xlink:href="#__github" width="24" height="24"></use>
        </svg>
      </div>
    
    <div class="md-source__repository">
      learn2proGrAME/learn2proGrAME-Grundlagen
    </div>
  </a>

    </div>
  
  <ul class="md-nav__list" data-md-scrollfix>
    
      
      
      


  <li class="md-nav__item">
    <a href="../.." title="Einleitung" class="md-nav__link">
      Einleitung
    </a>
  </li>

    
      
      
      


  <li class="md-nav__item">
    <a href="../../0120-userinterface/0120-userinterface/" title="Bedienoberflächen" class="md-nav__link">
      Bedienoberflächen
    </a>
  </li>

    
      
      
      


  <li class="md-nav__item">
    <a href="../../0130-firststeps/0130-firststeps/" title="Erste Schritte" class="md-nav__link">
      Erste Schritte
    </a>
  </li>

    
      
      
      


  <li class="md-nav__item">
    <a href="../../0140-debugging/0140-debugging/" title="Fehler und De-Bugging" class="md-nav__link">
      Fehler und De-Bugging
    </a>
  </li>

    
      
      
      


  <li class="md-nav__item">
    <a href="../../0150-variables/0150-variables/" title="Variablen" class="md-nav__link">
      Variablen
    </a>
  </li>

    
      
      
      


  <li class="md-nav__item">
    <a href="../../0160-operators/0160-operators/" title="Operatoren" class="md-nav__link">
      Operatoren
    </a>
  </li>

    
      
      
      


  <li class="md-nav__item">
    <a href="../../0170-donutclicker/0170-donutclicker/" title="Spiel - Krapfenklicker" class="md-nav__link">
      Spiel - Krapfenklicker
    </a>
  </li>

    
      
      
      


  <li class="md-nav__item">
    <a href="../../0180-transform/0180-transform/" title="Transform Spielobjektkomponente" class="md-nav__link">
      Transform Spielobjektkomponente
    </a>
  </li>

    
      
      
      


  <li class="md-nav__item">
    <a href="../../0190-conditionals/0190-conditionals/" title="Verzweigungen" class="md-nav__link">
      Verzweigungen
    </a>
  </li>

    
      
      
      


  <li class="md-nav__item">
    <a href="../../0200-adventure/0200-adventure/" title="Spiel - Ellis' großes Abenteuer" class="md-nav__link">
      Spiel - Ellis' großes Abenteuer
    </a>
  </li>

    
      
      
      


  <li class="md-nav__item">
    <a href="../../0210-drawingingimp/0210-drawingingimp/" title="Grafiken gestalten in GIMP" class="md-nav__link">
      Grafiken gestalten in GIMP
    </a>
  </li>

    
      
      
      


  <li class="md-nav__item">
    <a href="../../0220-functions/0220-functions/" title="Funktionen" class="md-nav__link">
      Funktionen
    </a>
  </li>

    
      
      
      


  <li class="md-nav__item">
    <a href="../../0230-accessmodifiers/0230-accessmodifiers/" title="Zugriffskontrolle" class="md-nav__link">
      Zugriffskontrolle
    </a>
  </li>

    
      
      
      


  <li class="md-nav__item">
    <a href="../../0240-spaceshooter/0240-spaceshooter/" title="Spiel - Space-Asteroids" class="md-nav__link">
      Spiel - Space-Asteroids
    </a>
  </li>

    
      
      
      


  <li class="md-nav__item">
    <a href="../../0250-loops/0250-loops/" title="Schleifen" class="md-nav__link">
      Schleifen
    </a>
  </li>

    
      
      
      


  <li class="md-nav__item">
    <a href="../../0260-gameloop/0260-gameloop/" title="Die Spiel-Schleife" class="md-nav__link">
      Die Spiel-Schleife
    </a>
  </li>

    
      
      
      


  <li class="md-nav__item">
    <a href="../../0270-classes/0270-classes/" title="Objekt-orientiertes Programmieren - Grundlagen" class="md-nav__link">
      Objekt-orientiertes Programmieren - Grundlagen
    </a>
  </li>

    
      
      
      

  


  <li class="md-nav__item md-nav__item--active md-nav__item--nested">
    
      <input class="md-toggle md-nav__toggle" data-md-toggle="nav-18" type="checkbox" id="nav-18" checked>
    
    <label class="md-nav__link" for="nav-18">
      Spiel - BouncyFant
    </label>
    <nav class="md-nav" data-md-component="collapsible" data-md-level="1">
      <label class="md-nav__title" for="nav-18">
        Spiel - BouncyFant
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../T00-introduction/" title="Einführung" class="md-nav__link">
      Einführung
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../T01-adassets/" title="Teil 1 - Neues Projekt und Assets" class="md-nav__link">
      Teil 1 - Neues Projekt und Assets
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../T02-animstat/" title="Teil 2 - Animationen und States" class="md-nav__link">
      Teil 2 - Animationen und States
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../T03-movement/" title="Teil 3 - Bewegung" class="md-nav__link">
      Teil 3 - Bewegung
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../T04-levels/" title="Teil 4 - Levels, Collider" class="md-nav__link">
      Teil 4 - Levels, Collider
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../T05-secondchar/" title="Teil 5 - Zweite Spielfigur" class="md-nav__link">
      Teil 5 - Zweite Spielfigur
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../T06-jump/" title="Teil 6 - Jump Around" class="md-nav__link">
      Teil 6 - Jump Around
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../T07-physics/" title="Teil 7 - Physikwelt" class="md-nav__link">
      Teil 7 - Physikwelt
    </a>
  </li>

        
          
          
          

  


  <li class="md-nav__item md-nav__item--active">
    
    <input class="md-toggle md-nav__toggle" data-md-toggle="toc" type="checkbox" id="__toc">
    
      
    
    
      <label class="md-nav__link md-nav__link--active" for="__toc">
        Teil 8 - Gewinnbedingung
      </label>
    
    <a href="./" title="Teil 8 - Gewinnbedingung" class="md-nav__link md-nav__link--active">
      Teil 8 - Gewinnbedingung
    </a>
    
      
<nav class="md-nav md-nav--secondary">
  
  
    
  
  
    <label class="md-nav__title" for="__toc">Inhaltsverzeichnis</label>
    <ul class="md-nav__list" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#kurzbeschreibung-des-spielziels" title="Kurzbeschreibung des Spielziels" class="md-nav__link">
    Kurzbeschreibung des Spielziels
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#der-zauberpilz-und-seine-eigenschaften" title="Der Zauberpilz und seine Eigenschaften" class="md-nav__link">
    Der Zauberpilz und seine Eigenschaften
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#aufgabe-3" title="Aufgabe 3" class="md-nav__link">
    Aufgabe 3
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#losung" title="Lösung" class="md-nav__link">
    Lösung
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#score" title="Score" class="md-nav__link">
    Score
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#der-code-fur-die-punkteanzeige-und-die-kollisionserkennung" title="Der Code für die Punkteanzeige und die Kollisionserkennung" class="md-nav__link">
    Der Code für die Punkteanzeige und die Kollisionserkennung
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#weiterfuhrende-idee-um-die-kooperation-der-spielerinnen-zu-fordern" title="Weiterführende Idee um die Kooperation der SpielerInnen zu fördern:" class="md-nav__link">
    Weiterführende Idee um die Kooperation der SpielerInnen zu fördern:
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#sourcecode" title="Sourcecode" class="md-nav__link">
    Sourcecode
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
      
      
      
      
    </ul>
  
</nav>
    
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../T09-finetuning/" title="Teil 9 - Finetuning" class="md-nav__link">
      Teil 9 - Finetuning
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../T10-deploy/" title="Teil 10 - Das Spiel Veröffentlichen" class="md-nav__link">
      Teil 10 - Das Spiel Veröffentlichen
    </a>
  </li>

        
      </ul>
    </nav>
  </li>

    
      
      
      


  <li class="md-nav__item">
    <a href="../../0290-about/0290-about/" title="Über learn2proGrAME" class="md-nav__link">
      Über learn2proGrAME
    </a>
  </li>

    
      
      
      


  <li class="md-nav__item">
    <a href="../../0300-teachers/0300-teachers/" title="Für Lehrpersonen" class="md-nav__link">
      Für Lehrpersonen
    </a>
  </li>

    
  </ul>
</nav>
                  </div>
                </div>
              </div>
            
            
              <div class="md-sidebar md-sidebar--secondary" data-md-component="toc">
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    
<nav class="md-nav md-nav--secondary">
  
  
    
  
  
    <label class="md-nav__title" for="__toc">Inhaltsverzeichnis</label>
    <ul class="md-nav__list" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#kurzbeschreibung-des-spielziels" title="Kurzbeschreibung des Spielziels" class="md-nav__link">
    Kurzbeschreibung des Spielziels
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#der-zauberpilz-und-seine-eigenschaften" title="Der Zauberpilz und seine Eigenschaften" class="md-nav__link">
    Der Zauberpilz und seine Eigenschaften
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#aufgabe-3" title="Aufgabe 3" class="md-nav__link">
    Aufgabe 3
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#losung" title="Lösung" class="md-nav__link">
    Lösung
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#score" title="Score" class="md-nav__link">
    Score
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#der-code-fur-die-punkteanzeige-und-die-kollisionserkennung" title="Der Code für die Punkteanzeige und die Kollisionserkennung" class="md-nav__link">
    Der Code für die Punkteanzeige und die Kollisionserkennung
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#weiterfuhrende-idee-um-die-kooperation-der-spielerinnen-zu-fordern" title="Weiterführende Idee um die Kooperation der SpielerInnen zu fördern:" class="md-nav__link">
    Weiterführende Idee um die Kooperation der SpielerInnen zu fördern:
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#sourcecode" title="Sourcecode" class="md-nav__link">
    Sourcecode
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
      
      
      
      
    </ul>
  
</nav>
                  </div>
                </div>
              </div>
            
          
          <div class="md-content">
            <article class="md-content__inner md-typeset">
              
                
                  <a href="https://github.com/learn2proGrAME/learn2proGrAME-Grundlagen/edit/master/docs/0280-bouncyfant/T08-win.md" title="Seite editieren" class="md-icon md-content__icon">&#xE3C9;</a>
                
                
                <h1 id="teil-8-play-to-compete-cooperate-to-win">Teil 8 - Play to compete, cooperate to win!<a class="headerlink" href="#teil-8-play-to-compete-cooperate-to-win" title="Permanent link">&para;</a></h1>
<div class="admonition abstract">
<p class="admonition-title">Ziel</p>
<p>In diesem Kapitel lernst du, wie du ein Zielobjekt und einen Punktezähler inklusive der Skripte erstellst.</p>
</div>
<hr />
<table>
<thead>
<tr>
<th>In diesem Kapitel wirst du...</th>
</tr>
</thead>
<tbody>
<tr>
<td>Ein Zielobjekt (den Zauberpilz) erstellen.</td>
</tr>
<tr>
<td>Ein Punktezähler als Text hinzufügen, der die Siege eines Spielers aufzeichnet.</td>
</tr>
<tr>
<td>Eine Funktion schreiben die dein Level neu lädt.</td>
</tr>
<tr>
<td>Eine Funktion schreiben, die den Punktezähler erhöht wenn man den Pilz mit der Figur berührt.</td>
</tr>
</tbody>
</table>
<h2 id="kurzbeschreibung-des-spielziels">Kurzbeschreibung des Spielziels<a class="headerlink" href="#kurzbeschreibung-des-spielziels" title="Permanent link">&para;</a></h2>
<p>Im ersten Level ist es das Ziel, einen magischen Pilz zu erreichen. Diejenige, die zuerst den Pilz erreicht, bekommt einen Punkt. Das erste Level ist geschafft, wenn einer der Elefanten 10 Punkte erreicht hat. Die Zusammenarbeit kann aber über das bloße, gemeinsame Sammeln von Punkten auch hinausgehen. Beispielsweise könnt ihr euch helfen, den Pilz zu erreichen, etwa indem ihr euch gegenseitig in die Luft katapultiert und so höhere Sprünge machen könnt.</p>
<h2 id="der-zauberpilz-und-seine-eigenschaften">Der Zauberpilz und seine Eigenschaften<a class="headerlink" href="#der-zauberpilz-und-seine-eigenschaften" title="Permanent link">&para;</a></h2>
<p>Lassen wir einen magischen Pilz entstehen, der, wenn er berührt wird, einen Punkt für den jeweiligen Bouncy Fant bringt!</p>
<p>Zum Einstieg beginnen wir gleich mit einer Aufgabe, deren Lösungsweg wir schon aus den vorigen Kapiteln kennen.</p>
<h3 id="aufgabe-3">Aufgabe 3<a class="headerlink" href="#aufgabe-3" title="Permanent link">&para;</a></h3>
<p>Füge dem Spiel auf der obersten Plattform die Grafik (<em>freetileset_jungle\png\Object\Mushroom_2.jpg</em>) des magischen Pilzes hinzu.</p>
<div class="admonition tip">
<p class="admonition-title">Tipp</p>
<p>Das Tileset findest du in unserem Moodle Kurs oder bei <a href="https://www.gameart2d.com/free-platformer-game-tileset.html">Open Game Art</a>. Wenn du die vorigen Übungen gemacht hast, dann hast du es bereits gespeichert.</p>
</div>
<p><img alt="Pilz eingefügt" src="../img/T08/T08-a-PilzEingefuegt.png" />
</p>
<h4 id="losung">Lösung<a class="headerlink" href="#losung" title="Permanent link">&para;</a></h4>
<p>Mittels Rechtsklick in den <em>Assets-Bereich</em> und <em>Import Assets</em> wird der Pilz aus dem Pfad <em>freetileset_jungle\png\Object\Mushroom_2.jpg</em> importiert.</p>
<p><img alt="Importiere den Pilz" src="../img/T08/T08-b-Import new Asset Pilz.png" /></p>
<p>Mittels Drag &amp; Drop ziehen wir dann den Pilz einfach an die gewünschte Position im Szenenbereich.</p>
<p><img alt="Pilz in Szene einfügen" src="../img/T08/T08-d-GameObject via Drag and Drop und Pixelgroesse.png" /></p>
<p>Der Pilz bekommt nun einen 2D-Polygon-Collider: Dazu klickt man in der Spieleszene auf den Pilz und wählt im Inspector <em>Add Component/Physics 2D/Polygon Collider 2D</em>.</p>
<h3 id="score">Score<a class="headerlink" href="#score" title="Permanent link">&para;</a></h3>
<p>Nun wollen wir den Text einbauen, der anzeigt, wie oft Elli bzw. Ossi gepunktet, also den Pilz erreicht haben. Glücklicherweise bietet Unity eine Funktion an, die es erlaubt Text auf einem sogenannten <em>User Interface</em> anzuzeigen.</p>
<p>Mittels Rechtsklick im <em>Hierachy</em> Bereich <em>UI&gt;Text</em>  fügen wir eine Textanzeige hinzu.</p>
<p><img alt="UI Text einfügen" src="../img/T08/T08-e-TextEinfuegen.png" style="height:40%;width:40%" /></p>
<p>Hierbei wird ein Objekt <em>Canvas</em> erzeugt mit einem ChildObjekt <em>Text</em>. Wir benötigen insgesamt drei Texte, je einmal die Punkte für Elli und Ossi, sowie einen Text der bei Spielende erscheinen soll.
Wir duplizieren also as Text-Objekt zweimal und benennen sieTextPunkteElli, TextPunkteOssi und TextGewinner.</p>
<p><img alt="Textobjekte" src="../img/T08/T08-ea-instertedTexts.png" /></p>
<p>Danach verändern wir noch die Position der Texte für die Punktestände.</p>
<p><img alt="Position festlegen" src="../img/T08/T08-g-Text Position und Detaileinstellungen-Elli.png" style="height:35%;width:35%" /> <img alt="Position festlegen" src="../img/T08/T08-g-Text Position und Detaileinstellungen-Ossi.png" style="height:35%;width:35%" /> <img alt="Texteinstellungen festlegen" src="../img/T08/T08-ga-Texteinstellungen2.png" style="height:60%;width:60%" /></p>
<p>Damit der Text bei verschiedenen Bildschirmgrößen immer an der passenden Position ist, setze den Ursprung der Textkoordinaten für Ossi und Elli in die Ecken rechts und links oben und für den Gewinnertext in die Mitte.<br />
Beachtet auch, dass Horizontal- und Vertical Overflow tatsächlich auf Overflow gesetzt sind. Ist nämlich Vertical Overflow  auf Truncate gesetzt, dann kann es passieren, dass euer Text ab einer gewissen Größe nicht mehr angezeigt wird.</p>
<div class="admonition tip">
<p class="admonition-title">Tipp</p>
<p>Truncate bedeutet so viel wie Abschneiden oder Wegschneiden. Die Größe des Textfeldes wird bei bei den Eigenschaften Rect Transform unter <em>Width</em> und <em>Height</em> angegeben. Ist der Text größer als die angegebene Höhe und Vertical Overflow auf Truncate gesetzt, dann wird der komplette Text weggeschnitten, da er über den Rand hinaus steht.</p>
</div>
<h2 id="der-code-fur-die-punkteanzeige-und-die-kollisionserkennung">Der Code für die Punkteanzeige und die Kollisionserkennung<a class="headerlink" href="#der-code-fur-die-punkteanzeige-und-die-kollisionserkennung" title="Permanent link">&para;</a></h2>
<p>Die benötigten Änderungen fügen wir im Script <em>BouncyFant.cs</em> hinzu.
Bei den using Klauseln kommt die Zeile <em>using UnityEngine.UI</em> hinzu. Dies ermöglicht es uns, das User Interface zu verwenden. Das Elternobjekt <em>BouncyFant</em> erhält noch die Variablen: <em>public int Punkte = 0;</em>, <em>public Text Infotext;</em> und <em>public Text Gewinnertext;</em>.</p>
<p><strong>BouncyFant.cs</strong></p>
<div class="codehilite"><pre><span></span><span class="k">using</span> <span class="nn">System.Collections</span><span class="p">;</span>
<span class="k">using</span> <span class="nn">System.Collections.Generic</span><span class="p">;</span>
<span class="k">using</span> <span class="nn">UnityEngine</span><span class="p">;</span>
<span class="k">using</span> <span class="nn">UnityEngine.UI</span><span class="p">;</span>
<span class="k">using</span> <span class="nn">UnityEngine.SceneManagement</span><span class="p">;</span>

<span class="k">public</span> <span class="k">class</span> <span class="nc">BouncyFant</span> <span class="p">:</span> <span class="n">MonoBehaviour</span>
<span class="p">{</span>
    <span class="k">protected</span> <span class="n">Rigidbody2D</span> <span class="n">Elefantenkoerper</span><span class="p">;</span>
    <span class="k">protected</span> <span class="n">Animator</span> <span class="n">Animation</span><span class="p">;</span>
    <span class="k">public</span> <span class="kt">string</span> <span class="n">Name</span><span class="p">;</span>
    <span class="k">public</span> <span class="kt">float</span> <span class="n">MaxGeschwindigkeit</span> <span class="p">=</span> <span class="m">10</span><span class="p">;</span>
    <span class="k">public</span> <span class="kt">float</span> <span class="n">Sprungkraft</span> <span class="p">=</span> <span class="m">300</span><span class="p">;</span>
    <span class="k">protected</span> <span class="kt">int</span> <span class="n">Punkte</span><span class="p">;</span>
    <span class="k">public</span> <span class="n">Text</span> <span class="n">PunkteText</span><span class="p">;</span>
    <span class="k">public</span> <span class="n">Text</span> <span class="n">GewinnerText</span><span class="p">;</span>

    <span class="c1">// Prozedur zum Bewegen des Elefanten</span>
</pre></div>


<p>Diese Prozedur startet das Level neu.</p>
<p><strong>BouncyFant.cs</strong></p>
<div class="codehilite"><pre><span></span>    <span class="c1">// Neuladen der Szene nach einer Wartezeit</span>
    <span class="k">void</span> <span class="nf">NeuLaden</span><span class="p">()</span>
    <span class="p">{</span>
        <span class="n">SceneManager</span><span class="p">.</span><span class="n">LoadScene</span><span class="p">(</span><span class="s">&quot;sceneBouncyFant&quot;</span><span class="p">);</span>
        <span class="n">Time</span><span class="p">.</span><span class="n">timeScale</span> <span class="p">=</span> <span class="m">1.0f</span><span class="p">;</span>
    <span class="p">}</span>
</pre></div>


<p>Die Methode <em>void OnCollisionEnter2D(Collision2D col)</em> wird aufgerufen, wenn eine Kollision vorliegt. In <em>if (col.gameObject.name == "Pilz")</em> wird geprüft, ob der Elefant mit dem Pilz kollidiert und falls ja, dann werden die Punkte des Elefanten erhöht und ein Gewinntext ausgegeben.<br />
In der zweiten If-Anweisung wird geprüft, ob der Punktestand von 10 erreicht ist. Falls ja, werden die Punkte wieder zurückgesetzt.
Zum Schluss wird das Level mit einer Verzögerung von drei Sekunden neu gestartet.</p>
<p><strong>BouncyFant.cs</strong></p>
<div class="codehilite"><pre><span></span>    <span class="c1">// Beim Berühren des Pilzes die Punkte erhöhen und einen Gewinntext ausgeben.</span>
    <span class="k">void</span> <span class="nf">OnCollisionEnter2D</span><span class="p">(</span><span class="n">Collision2D</span> <span class="n">col</span><span class="p">)</span>
    <span class="p">{</span>
        <span class="c1">// Falls das Kollisionsobjekt der Pilz ist ...    </span>
        <span class="k">if</span> <span class="p">(</span><span class="n">col</span><span class="p">.</span><span class="n">gameObject</span><span class="p">.</span><span class="n">name</span> <span class="p">==</span> <span class="s">&quot;Pilz&quot;</span><span class="p">)</span>
        <span class="p">{</span>
            <span class="n">Punkte</span><span class="p">++;</span> <span class="c1">// Erhöhen des Punktestands um 1</span>
            <span class="c1">// Punktestand dauerhaft speichern,</span>
            <span class="c1">// damit beim Neuladen der Szene der Punktestand nicht verloren geht</span>
            <span class="n">PlayerPrefs</span><span class="p">.</span><span class="n">SetInt</span><span class="p">(</span><span class="s">&quot;Punkte&quot;</span> <span class="p">+</span> <span class="n">Name</span><span class="p">,</span> <span class="n">Punkte</span><span class="p">);</span>
            <span class="c1">// Name und Punkte anzeigen</span>
            <span class="n">PunkteText</span><span class="p">.</span><span class="n">text</span> <span class="p">=</span> <span class="n">Name</span> <span class="p">+</span> <span class="s">&quot; &quot;</span> <span class="p">+</span> <span class="n">Punkte</span><span class="p">.</span><span class="n">ToString</span><span class="p">();</span>
            <span class="n">GewinnerText</span><span class="p">.</span><span class="n">text</span> <span class="p">=</span> <span class="n">Name</span> <span class="p">+</span> <span class="s">&quot;  W I N S !&quot;</span><span class="p">;</span> <span class="c1">// Gewinnermeldung</span>
            <span class="k">if</span> <span class="p">(</span><span class="n">Punkte</span> <span class="p">&gt;=</span> <span class="m">10</span><span class="p">)</span>
            <span class="p">{</span>
                <span class="n">GewinnerText</span><span class="p">.</span><span class="n">text</span> <span class="p">=</span> <span class="s">&quot;L E V E L   C O M P L E T E D&quot;</span><span class="p">;</span> <span class="c1">// Geschafft</span>
                <span class="c1">// Rücksetzen des Punktestands für alle Elefanten auf 0</span>
                <span class="n">Punkte</span> <span class="p">=</span> <span class="m">0</span><span class="p">;</span>
                <span class="n">PlayerPrefs</span><span class="p">.</span><span class="n">SetInt</span><span class="p">(</span><span class="s">&quot;PunkteElli&quot;</span><span class="p">,</span> <span class="n">Punkte</span><span class="p">);</span>
                <span class="n">PlayerPrefs</span><span class="p">.</span><span class="n">SetInt</span><span class="p">(</span><span class="s">&quot;PunkteOssi&quot;</span><span class="p">,</span> <span class="n">Punkte</span><span class="p">);</span>
            <span class="p">}</span>
            <span class="c1">// Zerstören des Pilzes</span>
            <span class="n">Destroy</span><span class="p">(</span><span class="n">col</span><span class="p">.</span><span class="n">gameObject</span><span class="p">);</span>
            <span class="c1">// Planen des Neuladens der Szene nach 3 Sekunden Wartezeit</span>
            <span class="n">Invoke</span><span class="p">(</span><span class="s">&quot;NeuLaden&quot;</span><span class="p">,</span> <span class="m">3</span><span class="p">);</span>
        <span class="p">}</span>
    <span class="p">}</span>
</pre></div>


<div class="admonition tip">
<p class="admonition-title">Tipp</p>
<p><strong>Kleine Wiederholung zur Vererbung:</strong><br />
Da wir die Änderungen in der Elternklasse BouncyFant durchführen, brauchen wir dies nicht für jeden Elefanten (Elli, Ossi,...) einzeln zu tun.</p>
</div>
<p><img alt="Vererbung" src="../img/T08/T08-gb-Vererbung.png" /></p>
<p>Außerdem müssen wir die Prozedur <em>public virtual void Start()</em> einfügen, in der wir den Punktestand und den Punktetext setzen.</p>
<p><strong>BouncyFant.cs</strong></p>
<div class="codehilite"><pre><span></span><span class="k">public</span> <span class="k">virtual</span> <span class="k">void</span> <span class="nf">Start</span><span class="p">(){</span>
  <span class="c1">// Laden des Punktestandes aus den Playerprefs und Anzeigen</span>
  <span class="n">Punkte</span> <span class="p">=</span> <span class="n">PlayerPrefs</span><span class="p">.</span><span class="n">GetInt</span><span class="p">(</span><span class="s">&quot;Punkte&quot;</span> <span class="p">+</span> <span class="n">Name</span><span class="p">);</span>
  <span class="n">PunkteText</span><span class="p">.</span><span class="n">text</span> <span class="p">=</span> <span class="n">Name</span> <span class="p">+</span> <span class="s">&quot; &quot;</span> <span class="p">+</span> <span class="n">Punkte</span><span class="p">.</span><span class="n">ToString</span><span class="p">();</span>
  <span class="n">GewinnerText</span><span class="p">.</span><span class="n">text</span> <span class="p">=</span> <span class="s">&quot;&quot;</span><span class="p">;</span>
<span class="p">}</span>
</pre></div>


<div class="admonition tip">
<p class="admonition-title">Tipp</p>
<p>Das Schlüsselwort <em>virtual</em> gibt an, dass diese Methode in den Child-Klassen überschrieben werden kann. Dies benötigen wir, da in <em>Elli.cs</em> und <em>Ossi.cs</em> <em>start()</em> schon definiert ist. Zu den überschreibenden Methoden in den Child-Klassen muss man dann das Schlüsselwort <em>override</em> angeben.</p>
</div>
<p>Der gesamte Quellcode von BouncyFant.cs sieht nun so aus:</p>
<p><strong>BouncyFant.cs</strong></p>
<div class="codehilite"><pre><span></span><span class="k">using</span> <span class="nn">System.Collections</span><span class="p">;</span>
<span class="k">using</span> <span class="nn">System.Collections.Generic</span><span class="p">;</span>
<span class="k">using</span> <span class="nn">UnityEngine</span><span class="p">;</span>
<span class="k">using</span> <span class="nn">UnityEngine.UI</span><span class="p">;</span>
<span class="k">using</span> <span class="nn">UnityEngine.SceneManagement</span><span class="p">;</span>

<span class="k">public</span> <span class="k">class</span> <span class="nc">BouncyFant</span> <span class="p">:</span> <span class="n">MonoBehaviour</span>
<span class="p">{</span>
    <span class="k">protected</span> <span class="n">Rigidbody2D</span> <span class="n">Elefantenkoerper</span><span class="p">;</span>
    <span class="k">protected</span> <span class="n">Animator</span> <span class="n">Animation</span><span class="p">;</span>
    <span class="k">public</span> <span class="kt">string</span> <span class="n">Name</span><span class="p">;</span>
    <span class="k">public</span> <span class="kt">float</span> <span class="n">MaxGeschwindigkeit</span> <span class="p">=</span> <span class="m">10</span><span class="p">;</span>
    <span class="k">public</span> <span class="kt">float</span> <span class="n">Sprungkraft</span> <span class="p">=</span> <span class="m">300</span><span class="p">;</span>
    <span class="k">protected</span> <span class="kt">int</span> <span class="n">Punkte</span><span class="p">;</span>
    <span class="k">public</span> <span class="n">Text</span> <span class="n">PunkteText</span><span class="p">;</span>
    <span class="k">public</span> <span class="n">Text</span> <span class="n">GewinnerText</span><span class="p">;</span>

    <span class="k">public</span> <span class="k">virtual</span> <span class="k">void</span> <span class="nf">Start</span><span class="p">(){</span>
      <span class="c1">// Laden des Punktestandes aus den Playerprefs und Anzeigen</span>
      <span class="n">Punkte</span> <span class="p">=</span> <span class="n">PlayerPrefs</span><span class="p">.</span><span class="n">GetInt</span><span class="p">(</span><span class="s">&quot;Punkte&quot;</span> <span class="p">+</span> <span class="n">Name</span><span class="p">);</span>
      <span class="n">PunkteText</span><span class="p">.</span><span class="n">text</span> <span class="p">=</span> <span class="n">Name</span> <span class="p">+</span> <span class="s">&quot; &quot;</span> <span class="p">+</span> <span class="n">Punkte</span><span class="p">.</span><span class="n">ToString</span><span class="p">();</span>
      <span class="n">GewinnerText</span><span class="p">.</span><span class="n">text</span> <span class="p">=</span> <span class="s">&quot;&quot;</span><span class="p">;</span>
    <span class="p">}</span>

    <span class="c1">// Prozedur zum Bewegen des Elefanten</span>
    <span class="k">protected</span> <span class="k">void</span> <span class="nf">Gehen</span><span class="p">(</span><span class="kt">float</span> <span class="n">h</span><span class="p">)</span>
    <span class="p">{</span>
        <span class="cm">/* Geschwindigkeit setzen</span>
<span class="cm">            * Die Geschwindigkeit ergibt sich aus aus der Eingabe für die horizontale</span>
<span class="cm">            * Geschwindigkeit und der maximalen Höchstgeschwindigkeit des Elefanten</span>
<span class="cm">            */</span>
        <span class="n">Elefantenkoerper</span><span class="p">.</span><span class="n">velocity</span> <span class="p">=</span> <span class="k">new</span> <span class="n">Vector2</span><span class="p">(</span><span class="n">h</span> <span class="p">*</span> <span class="n">MaxGeschwindigkeit</span><span class="p">,</span> <span class="n">Elefantenkoerper</span><span class="p">.</span><span class="n">velocity</span><span class="p">.</span><span class="n">y</span><span class="p">);</span>

        <span class="cm">/* Blickrichtung des Elefanten bestimmen.</span>
<span class="cm">            * Der Vektor für die Blickrichtung soll ein Vektor sein,</span>
<span class="cm">            * der sich aus dem Vorzeichenrückgabewert (-1 oder +1)</span>
<span class="cm">            * der horizontalen Bewegungsrichtung (Mathf.Sign(h)) und</span>
<span class="cm">            * dem Skalierungsfaktor auf der x-Achse ergibt.</span>
<span class="cm">            * Der y-Wert des Elefanten bleibt gleich, daher nehmen wir nur den</span>
<span class="cm">            * Skalierungsfaktor &quot;transform.localScale.y&quot;.       </span>
<span class="cm">            */</span>
        <span class="k">if</span> <span class="p">(</span><span class="n">h</span> <span class="p">!=</span> <span class="m">0</span><span class="p">)</span>
            <span class="n">transform</span><span class="p">.</span><span class="n">localScale</span> <span class="p">=</span> <span class="k">new</span> <span class="n">Vector2</span><span class="p">(</span><span class="n">Mathf</span><span class="p">.</span><span class="n">Sign</span><span class="p">(</span><span class="n">h</span><span class="p">)</span> <span class="p">*</span>
                <span class="n">Mathf</span><span class="p">.</span><span class="n">Abs</span><span class="p">(</span><span class="n">transform</span><span class="p">.</span><span class="n">localScale</span><span class="p">.</span><span class="n">x</span><span class="p">),</span> <span class="n">transform</span><span class="p">.</span><span class="n">localScale</span><span class="p">.</span><span class="n">y</span><span class="p">);</span>

        <span class="cm">/* Die Geschwindigkeit wird auf den Absolutbetrag der horizontalen</span>
<span class="cm">            * Bewegung gesetzt. Negative Geschwindigkeit gibt es nicht.</span>
<span class="cm">            * z.B. wenn ich mit dem Auto im Rückwärtsgang 10km/h fahre, fahre ich</span>
<span class="cm">            * 10km/h in einer Rückwärtsbewegung und nicht &quot;-10km/h&quot; ;)</span>
<span class="cm">            */</span>
        <span class="n">Animation</span><span class="p">.</span><span class="n">SetFloat</span><span class="p">(</span><span class="s">&quot;Geschwindigkeit&quot;</span><span class="p">,</span> <span class="n">Mathf</span><span class="p">.</span><span class="n">Abs</span><span class="p">(</span><span class="n">h</span><span class="p">));</span>
    <span class="p">}</span>

    <span class="c1">// Feststellen, ob der Elefant am Boden ist.</span>
    <span class="k">protected</span> <span class="kt">bool</span> <span class="nf">AmBoden</span><span class="p">()</span>
    <span class="p">{</span>
        <span class="c1">// Abfragen der Grenzen der Kollisionsobjekte</span>
        <span class="n">Bounds</span> <span class="n">Grenze</span> <span class="p">=</span> <span class="n">GetComponent</span><span class="p">&lt;</span><span class="n">Collider2D</span><span class="p">&gt;().</span><span class="n">bounds</span><span class="p">;</span>
        <span class="kt">float</span> <span class="n">Spielraum</span> <span class="p">=</span> <span class="n">Grenze</span><span class="p">.</span><span class="n">size</span><span class="p">.</span><span class="n">y</span> <span class="p">*</span> <span class="m">0.1f</span><span class="p">;</span>

        <span class="cm">/* Berechnen einer Position die ein wenig unter der Kante des</span>
<span class="cm">         * Kollisionsobjekts liegt sonst kann es vorkommen, dass der</span>
<span class="cm">         * Elefant nicht springen kann, wenn er ganz still steht.</span>
<span class="cm">         */</span>
        <span class="n">Vector2</span> <span class="n">v</span> <span class="p">=</span> <span class="k">new</span> <span class="n">Vector2</span><span class="p">(</span><span class="n">Grenze</span><span class="p">.</span><span class="n">center</span><span class="p">.</span><span class="n">x</span><span class="p">,</span> <span class="n">Grenze</span><span class="p">.</span><span class="n">min</span><span class="p">.</span><span class="n">y</span> <span class="p">-</span> <span class="n">Spielraum</span><span class="p">);</span>
        <span class="c1">// Kollisionsabfrage:  mittels einer Linie  </span>
        <span class="n">RaycastHit2D</span> <span class="n">Kollision</span> <span class="p">=</span> <span class="n">Physics2D</span><span class="p">.</span><span class="n">Linecast</span><span class="p">(</span><span class="n">v</span><span class="p">,</span> <span class="n">Grenze</span><span class="p">.</span><span class="n">center</span><span class="p">);</span>

        <span class="c1">// &quot;true&quot; zurückgeben, wenn das Kollisionsobjekt nicht der Elefant selbst ist.</span>
        <span class="k">return</span> <span class="p">(</span><span class="n">Kollision</span><span class="p">.</span><span class="n">collider</span><span class="p">.</span><span class="n">gameObject</span> <span class="p">!=</span> <span class="n">gameObject</span><span class="p">);</span>
    <span class="p">}</span>

    <span class="c1">// Springen</span>
    <span class="k">protected</span> <span class="k">void</span> <span class="nf">Springen</span><span class="p">(</span><span class="n">KeyCode</span> <span class="n">Taste</span><span class="p">)</span>
    <span class="p">{</span>
        <span class="c1">// Herausfinden, ob der Elefant irgendwo steht, von wo er abspringen kann</span>
        <span class="kt">bool</span> <span class="n">springenmoeglich</span> <span class="p">=</span> <span class="n">AmBoden</span><span class="p">();</span>

        <span class="cm">/* Wenn der Pfeil nach oben gedrückt wird und Springen möglich,</span>
<span class="cm">         * d.h. der Elefant hat etwas, von wo er aus wegspringen kann,</span>
<span class="cm">         * dann bekommt der Elefantenkörper einen Impuls (Addforce),</span>
<span class="cm">         * entsprechend der von uns gewählten Sprungkraft</span>
<span class="cm">         */</span>
        <span class="k">if</span> <span class="p">(</span><span class="n">Input</span><span class="p">.</span><span class="n">GetKey</span><span class="p">(</span><span class="n">Taste</span><span class="p">)</span> <span class="p">&amp;&amp;</span> <span class="n">springenmoeglich</span><span class="p">)</span>
            <span class="n">Elefantenkoerper</span><span class="p">.</span><span class="n">AddForce</span><span class="p">(</span><span class="n">Vector2</span><span class="p">.</span><span class="n">up</span> <span class="p">*</span> <span class="n">Sprungkraft</span><span class="p">);</span>

        <span class="cm">/*</span>
<span class="cm">         * Wenn der Elefant gerade springt, dann springen auf nicht möglich setzen.</span>
<span class="cm">         * Nicht = Rufzeichen(!).</span>
<span class="cm">         */</span>
        <span class="n">Animation</span><span class="p">.</span><span class="n">SetBool</span><span class="p">(</span><span class="s">&quot;Springen&quot;</span><span class="p">,</span> <span class="p">!</span><span class="n">springenmoeglich</span><span class="p">);</span>
    <span class="p">}</span>

    <span class="c1">// Neuladen der Szene nach einer Wartezeit</span>
    <span class="k">void</span> <span class="nf">NeuLaden</span><span class="p">()</span>
    <span class="p">{</span>
        <span class="n">SceneManager</span><span class="p">.</span><span class="n">LoadScene</span><span class="p">(</span><span class="s">&quot;sceneBouncyFant&quot;</span><span class="p">);</span>
        <span class="n">Time</span><span class="p">.</span><span class="n">timeScale</span> <span class="p">=</span> <span class="m">1.0f</span><span class="p">;</span>
    <span class="p">}</span>

    <span class="c1">// Beim Berühren des Pilzes die Punkte erhöhen und einen Gewinntext ausgeben.</span>
    <span class="k">void</span> <span class="nf">OnCollisionEnter2D</span><span class="p">(</span><span class="n">Collision2D</span> <span class="n">col</span><span class="p">)</span>
    <span class="p">{</span>
        <span class="c1">// Falls das Kollisionsobjekt der Pilz ist ...    </span>
        <span class="k">if</span> <span class="p">(</span><span class="n">col</span><span class="p">.</span><span class="n">gameObject</span><span class="p">.</span><span class="n">name</span> <span class="p">==</span> <span class="s">&quot;Pilz&quot;</span><span class="p">)</span>
        <span class="p">{</span>
            <span class="n">Punkte</span><span class="p">++;</span> <span class="c1">// Erhöhen des Punktestands um 1</span>
            <span class="c1">// Punktestand dauerhaft speichern,</span>
            <span class="c1">// damit beim Neuladen der Szene der Punktestand nicht verloren geht</span>
            <span class="n">PlayerPrefs</span><span class="p">.</span><span class="n">SetInt</span><span class="p">(</span><span class="s">&quot;Punkte&quot;</span> <span class="p">+</span> <span class="n">Name</span><span class="p">,</span> <span class="n">Punkte</span><span class="p">);</span>
            <span class="c1">// Name und Punkte anzeigen</span>
            <span class="n">PunkteText</span><span class="p">.</span><span class="n">text</span> <span class="p">=</span> <span class="n">Name</span> <span class="p">+</span> <span class="s">&quot; &quot;</span> <span class="p">+</span> <span class="n">Punkte</span><span class="p">.</span><span class="n">ToString</span><span class="p">();</span>
            <span class="n">GewinnerText</span><span class="p">.</span><span class="n">text</span> <span class="p">=</span> <span class="n">Name</span> <span class="p">+</span> <span class="s">&quot;  W I N S !&quot;</span><span class="p">;</span> <span class="c1">// Gewinnermeldung</span>
            <span class="k">if</span> <span class="p">(</span><span class="n">Punkte</span> <span class="p">&gt;=</span> <span class="m">10</span><span class="p">)</span>
            <span class="p">{</span>
                <span class="n">GewinnerText</span><span class="p">.</span><span class="n">text</span> <span class="p">=</span> <span class="s">&quot;L E V E L   C O M P L E T E D&quot;</span><span class="p">;</span> <span class="c1">// Geschafft</span>
                <span class="c1">// Rücksetzen des Punktestands für alle Elefanten auf 0</span>
                <span class="n">Punkte</span> <span class="p">=</span> <span class="m">0</span><span class="p">;</span>
                <span class="n">PlayerPrefs</span><span class="p">.</span><span class="n">SetInt</span><span class="p">(</span><span class="s">&quot;PunkteElli&quot;</span><span class="p">,</span> <span class="n">Punkte</span><span class="p">);</span>
                <span class="n">PlayerPrefs</span><span class="p">.</span><span class="n">SetInt</span><span class="p">(</span><span class="s">&quot;PunkteOssi&quot;</span><span class="p">,</span> <span class="n">Punkte</span><span class="p">);</span>
            <span class="p">}</span>
            <span class="c1">// Zerstören des Pilzes</span>
            <span class="n">Destroy</span><span class="p">(</span><span class="n">col</span><span class="p">.</span><span class="n">gameObject</span><span class="p">);</span>
            <span class="c1">// Planen des Neuladens der Szene nach 3 Sekunden Wartezeit</span>
            <span class="n">Invoke</span><span class="p">(</span><span class="s">&quot;NeuLaden&quot;</span><span class="p">,</span> <span class="m">3</span><span class="p">);</span>
        <span class="p">}</span>
    <span class="p">}</span>
<span class="p">}</span>
</pre></div>


<div class="admonition bug">
<p class="admonition-title">Achtung</p>
<p>Im Moment bekommen wir eine Fehlermeldung, wenn wir das Spiel starten wollen, da in <em>Elli.cs</em> und <em>Ossi.cs</em> eine virtuelle Methode überschrieben wird und das Schlüsselwort <em>override</em> fehlt.  </p>
</div>
<p>Gehe in das Skript <em>Elli.cs</em> und füge zur Prozedur <em>Start()</em> das Schlüsselwort <em>override</em> ein und rufe am Ende die Methode <em>Start()</em> der Parentklasse auf (verwende dafür den Befehl <em>base.Start()</em>)</p>
<div class="admonition tip">
<p class="admonition-title">Tipp</p>
<p><strong>Start() und Vererbung</strong><br />
Unity ruft bei der Erzeugung eines Objekts immer automatisch <em>Start()</em> auf. Allerdings nur direkt in der zugehörigen Klasse und nicht auch in allen Parent-Klassen. Das heißt, damit <em>Start()</em> aus <em>BouncyFant.cs</em> ausgeführt wird, wenn Elli bzw. Ossi erzeugt werden, müssen wir diese Methode extra aufrufen.<br />
Um Methoden aus der Parentklasse aufzurufen verwende das Schlüsselwort <em>base</em></p>
</div>
<p>Der Code für <em>Start()</em> in <em>Elli.cs</em> sollte nun so aussehen:</p>
<p><strong>Elli.cs</strong></p>
<div class="codehilite"><pre><span></span><span class="c1">// Anfangseinstellungen setzen</span>
<span class="k">public</span> <span class="k">override</span> <span class="k">void</span> <span class="nf">Start</span> <span class="p">()</span>
<span class="p">{</span>
  <span class="c1">// Den Namen setzen</span>
  <span class="n">Name</span> <span class="p">=</span> <span class="s">&quot;Elli&quot;</span><span class="p">;</span>

  <span class="c1">// Elefant mit RigidBody verlinken</span>
  <span class="n">Elefantenkoerper</span> <span class="p">=</span> <span class="n">GetComponent</span><span class="p">&lt;</span><span class="n">Rigidbody2D</span><span class="p">&gt;();</span>

  <span class="c1">// Eine Referenz auf den Animator hinzufügen</span>
  <span class="n">Animation</span> <span class="p">=</span> <span class="n">GetComponent</span><span class="p">&lt;</span><span class="n">Animator</span><span class="p">&gt;();</span>

  <span class="c1">//Setzen von Ellis Farbe auf einen leichten Rotton - Color(Rot, Grün, Blau)</span>
  <span class="n">GetComponent</span><span class="p">&lt;</span><span class="n">SpriteRenderer</span><span class="p">&gt;().</span><span class="n">color</span> <span class="p">=</span> <span class="k">new</span> <span class="n">Color</span><span class="p">(</span><span class="m">0.96f</span><span class="p">,</span> <span class="m">0.85f</span><span class="p">,</span> <span class="m">0.8f</span><span class="p">);</span>

  <span class="c1">//Start() in der Parentklasse (Baseclass) aufrufen um Punkte und Punktetext zu setzen</span>
  <span class="k">base</span><span class="p">.</span><span class="n">Start</span><span class="p">();</span>
<span class="p">}</span>
</pre></div>


<p>Mache nun dasselbe für Ossi.cs.</p>
<p>Dem Script von Elli weisen wir nun die entsprechenden Variablen zu indem wir auf das GameObject und dann im Scriptbereich auf dem Punkt ʘ neben der entsprechenden Variable klicken.</p>
<p><img alt="Variablen verlinken" src="../img/T08/T08-i-Variablen den Feldern zuweisen.png" /></p>
<p>Bei Ossi tun wir das gleiche, nur, dass wir dem Punkte Text -&gt; TextPunkteOssi zuweisen.</p>
<p>Zum Schluss müssen wir noch die Achsen beim Eventsystem (das beim Hinzufügen von TextPunkteElli und TextPunkteOssi automatisch erstellt worden ist) umbenennen. Sonst erhalten wir eine Fehlermeldung, dass die Achsen Horizontal und Vertical nicht existieren, weil wir sie zu Beginn in H-AchseElli bzw. V-AchseElli umbenannt haben. Daher nennen wir die Achsen des Eventsystems ebenso H-AchseElli und V-AchseElli.</p>
<p><img alt="Achsen setzen" src="../img/T08/T08-h-Achsen Eventsystem.png" /></p>
<h3 id="weiterfuhrende-idee-um-die-kooperation-der-spielerinnen-zu-fordern">Weiterführende Idee um die Kooperation der SpielerInnen zu fördern:<a class="headerlink" href="#weiterfuhrende-idee-um-die-kooperation-der-spielerinnen-zu-fordern" title="Permanent link">&para;</a></h3>
<p>Je schneller man die zehn Punkte beisammen hat, desto höher sind die Bonuspunkte, die man am Ende des Levels bekommt. Später kann es sogar sein, dass einige Levels gar nicht schaffbar sind, ohne das Elli und Ossi zusammen arbeiten. Eurer Fantasie sind dabei keine Grenzen gesetzt, be creative!</p>
<hr />
<h4 id="sourcecode">Sourcecode<a class="headerlink" href="#sourcecode" title="Permanent link">&para;</a></h4>
<p><a href="https://github.com/learn2proGrAME/proGrAME-Beispiele-und-Quellcodes/blob/master/BouncyFant/T08/Bouncy%20Fant%2008.zip">Download Sourcecode Teil 08</a></p>
                
                  
                
              
              
                


              
            </article>
          </div>
        </div>
      </main>
      
        
<footer class="md-footer">
  
    <div class="md-footer-nav">
      <nav class="md-footer-nav__inner md-grid">
        
          <a href="../T07-physics/" title="Teil 7 - Physikwelt" class="md-flex md-footer-nav__link md-footer-nav__link--prev" rel="prev">
            <div class="md-flex__cell md-flex__cell--shrink">
              <i class="md-icon md-icon--arrow-back md-footer-nav__button"></i>
            </div>
            <div class="md-flex__cell md-flex__cell--stretch md-footer-nav__title">
              <span class="md-flex__ellipsis">
                <span class="md-footer-nav__direction">
                  Zurück
                </span>
                Teil 7 - Physikwelt
              </span>
            </div>
          </a>
        
        
          <a href="../T09-finetuning/" title="Teil 9 - Finetuning" class="md-flex md-footer-nav__link md-footer-nav__link--next" rel="next">
            <div class="md-flex__cell md-flex__cell--stretch md-footer-nav__title">
              <span class="md-flex__ellipsis">
                <span class="md-footer-nav__direction">
                  Weiter
                </span>
                Teil 9 - Finetuning
              </span>
            </div>
            <div class="md-flex__cell md-flex__cell--shrink">
              <i class="md-icon md-icon--arrow-forward md-footer-nav__button"></i>
            </div>
          </a>
        
      </nav>
    </div>
  
  <div class="md-footer-meta md-typeset">
    <div class="md-footer-meta__inner md-grid">
      <div class="md-footer-copyright">
        
          <div class="md-footer-copyright__highlight">
            Copyright &copy; 2019 learn2proGrAME
          </div>
        
        powered by
        <a href="https://www.mkdocs.org">MkDocs</a>
        and
        <a href="https://squidfunk.github.io/mkdocs-material/">
          Material for MkDocs</a>
      </div>
      
        
  <div class="md-footer-social">
    <link rel="stylesheet" href="../../assets/fonts/font-awesome.css">
    
      <a href="https://github.com/learn2proGrAME" class="md-footer-social__link fa fa-github"></a>
    
  </div>

      
    </div>
  </div>
</footer>
      
    </div>
    
      <script src="../../assets/javascripts/application.9e1f3b71.js"></script>
      
        
        
          
          <script src="../../assets/javascripts/lunr/lunr.stemmer.support.js"></script>
          
            
              
              
                <script src="../../assets/javascripts/lunr/lunr.de.js"></script>
              
            
          
          
        
      
      <script>app.initialize({version:"1.0.4",url:{base:"../.."}})</script>
      
    
    
      
    
  </body>
</html>