



<!DOCTYPE html>
<html lang="de" class="no-js">
  <head>
    
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width,initial-scale=1">
      <meta http-equiv="x-ua-compatible" content="ie=edge">
      
        <meta name="description" content="Das learn2proGrAME Tutorial zur Spieleprogrammierung mit C# in Unity">
      
      
        <link rel="canonical" href="https://learn2programe.github.io/learn2proGrAME-Grundlagen/0280-bouncyfant/T03-movement/">
      
      
        <meta name="author" content="learn2proGrAME">
      
      
        <meta name="lang:clipboard.copy" content="In Zwischenablage kopieren">
      
        <meta name="lang:clipboard.copied" content="In Zwischenablage kopiert">
      
        <meta name="lang:search.language" content="de">
      
        <meta name="lang:search.pipeline.stopwords" content="True">
      
        <meta name="lang:search.pipeline.trimmer" content="True">
      
        <meta name="lang:search.result.none" content="Keine Suchergebnisse">
      
        <meta name="lang:search.result.one" content="1 Suchergebnis">
      
        <meta name="lang:search.result.other" content="# Suchergebnisse">
      
        <meta name="lang:search.tokenizer" content="[\s\-]+">
      
      <link rel="shortcut icon" href="../../assets/images/favicon.png">
      <meta name="generator" content="mkdocs-1.0.4, mkdocs-material-3.1.0">
    
    
      
        <title>Teil 3 - Bewegung - learn2proGrAME Tutorial</title>
      
    
    
      <link rel="stylesheet" href="../../assets/stylesheets/application.11e41852.css">
      
        <link rel="stylesheet" href="../../assets/stylesheets/application-palette.22915126.css">
      
      
        
        
        <meta name="theme-color" content="#03a9f4">
      
    
    
      <script src="../../assets/javascripts/modernizr.20ef595d.js"></script>
    
    
      
        <link href="https://fonts.gstatic.com" rel="preconnect" crossorigin>
        <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto:300,400,400i,700|Roboto+Mono">
        <style>body,input{font-family:"Roboto","Helvetica Neue",Helvetica,Arial,sans-serif}code,kbd,pre{font-family:"Roboto Mono","Courier New",Courier,monospace}</style>
      
    
    <link rel="stylesheet" href="../../assets/fonts/material-icons.css">
    
      <link rel="manifest" href="../../manifest.webmanifest">
    
    
    
  </head>
  
    
    
    <body dir="ltr" data-md-color-primary="light-blue" data-md-color-accent="orange">
  
    <svg class="md-svg">
      <defs>
        
        
          <svg xmlns="http://www.w3.org/2000/svg" width="416" height="448"
    viewBox="0 0 416 448" id="__github">
  <path fill="currentColor" d="M160 304q0 10-3.125 20.5t-10.75 19-18.125
        8.5-18.125-8.5-10.75-19-3.125-20.5 3.125-20.5 10.75-19 18.125-8.5
        18.125 8.5 10.75 19 3.125 20.5zM320 304q0 10-3.125 20.5t-10.75
        19-18.125 8.5-18.125-8.5-10.75-19-3.125-20.5 3.125-20.5 10.75-19
        18.125-8.5 18.125 8.5 10.75 19 3.125 20.5zM360
        304q0-30-17.25-51t-46.75-21q-10.25 0-48.75 5.25-17.75 2.75-39.25
        2.75t-39.25-2.75q-38-5.25-48.75-5.25-29.5 0-46.75 21t-17.25 51q0 22 8
        38.375t20.25 25.75 30.5 15 35 7.375 37.25 1.75h42q20.5 0
        37.25-1.75t35-7.375 30.5-15 20.25-25.75 8-38.375zM416 260q0 51.75-15.25
        82.75-9.5 19.25-26.375 33.25t-35.25 21.5-42.5 11.875-42.875 5.5-41.75
        1.125q-19.5 0-35.5-0.75t-36.875-3.125-38.125-7.5-34.25-12.875-30.25-20.25-21.5-28.75q-15.5-30.75-15.5-82.75
        0-59.25 34-99-6.75-20.5-6.75-42.5 0-29 12.75-54.5 27 0 47.5 9.875t47.25
        30.875q36.75-8.75 77.25-8.75 37 0 70 8 26.25-20.5
        46.75-30.25t47.25-9.75q12.75 25.5 12.75 54.5 0 21.75-6.75 42 34 40 34
        99.5z" />
</svg>
        
      </defs>
    </svg>
    <input class="md-toggle" data-md-toggle="drawer" type="checkbox" id="__drawer" autocomplete="off">
    <input class="md-toggle" data-md-toggle="search" type="checkbox" id="__search" autocomplete="off">
    <label class="md-overlay" data-md-component="overlay" for="__drawer"></label>
    
      <a href="#teil-3-bewegung" tabindex="1" class="md-skip">
        Zum Inhalt
      </a>
    
    
      <header class="md-header" data-md-component="header">
  <nav class="md-header-nav md-grid">
    <div class="md-flex">
      <div class="md-flex__cell md-flex__cell--shrink">
        <a href="https://learn2programe.github.io/learn2proGrAME-Grundlagen/" title="learn2proGrAME Tutorial" class="md-header-nav__button md-logo">
          
            <img src="../../0200-adventure/img/elliLogo.png" width="24" height="24">
          
        </a>
      </div>
      <div class="md-flex__cell md-flex__cell--shrink">
        <label class="md-icon md-icon--menu md-header-nav__button" for="__drawer"></label>
      </div>
      <div class="md-flex__cell md-flex__cell--stretch">
        <div class="md-flex__ellipsis md-header-nav__title" data-md-component="title">
          
            
              <span class="md-header-nav__topic">
                learn2proGrAME Tutorial
              </span>
              <span class="md-header-nav__topic">
                Teil 3 - Bewegung
              </span>
            
          
        </div>
      </div>
      <div class="md-flex__cell md-flex__cell--shrink">
        
          
            <label class="md-icon md-icon--search md-header-nav__button" for="__search"></label>
            
<div class="md-search" data-md-component="search" role="dialog">
  <label class="md-search__overlay" for="__search"></label>
  <div class="md-search__inner" role="search">
    <form class="md-search__form" name="search">
      <input type="text" class="md-search__input" name="query" placeholder="Suche" autocapitalize="off" autocorrect="off" autocomplete="off" spellcheck="false" data-md-component="query" data-md-state="active">
      <label class="md-icon md-search__icon" for="__search"></label>
      <button type="reset" class="md-icon md-search__icon" data-md-component="reset" tabindex="-1">
        &#xE5CD;
      </button>
    </form>
    <div class="md-search__output">
      <div class="md-search__scrollwrap" data-md-scrollfix>
        <div class="md-search-result" data-md-component="result">
          <div class="md-search-result__meta">
            Suchbegriff eingeben
          </div>
          <ol class="md-search-result__list"></ol>
        </div>
      </div>
    </div>
  </div>
</div>
          
        
      </div>
      
        <div class="md-flex__cell md-flex__cell--shrink">
          <div class="md-header-nav__source">
            


  


  <a href="https://github.com/learn2proGrAME/learn2proGrAME-Grundlagen/" title="Quellcode" class="md-source" data-md-source="github">
    
      <div class="md-source__icon">
        <svg viewBox="0 0 24 24" width="24" height="24">
          <use xlink:href="#__github" width="24" height="24"></use>
        </svg>
      </div>
    
    <div class="md-source__repository">
      learn2proGrAME/learn2proGrAME-Grundlagen
    </div>
  </a>

          </div>
        </div>
      
    </div>
  </nav>
</header>
    
    <div class="md-container">
      
        
      
      
      <main class="md-main">
        <div class="md-main__inner md-grid" data-md-component="container">
          
            
              <div class="md-sidebar md-sidebar--primary" data-md-component="navigation">
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    <nav class="md-nav md-nav--primary" data-md-level="0">
  <label class="md-nav__title md-nav__title--site" for="__drawer">
    <a href="https://learn2programe.github.io/learn2proGrAME-Grundlagen/" title="learn2proGrAME Tutorial" class="md-nav__button md-logo">
      
        <img src="../../0200-adventure/img/elliLogo.png" width="48" height="48">
      
    </a>
    learn2proGrAME Tutorial
  </label>
  
    <div class="md-nav__source">
      


  


  <a href="https://github.com/learn2proGrAME/learn2proGrAME-Grundlagen/" title="Quellcode" class="md-source" data-md-source="github">
    
      <div class="md-source__icon">
        <svg viewBox="0 0 24 24" width="24" height="24">
          <use xlink:href="#__github" width="24" height="24"></use>
        </svg>
      </div>
    
    <div class="md-source__repository">
      learn2proGrAME/learn2proGrAME-Grundlagen
    </div>
  </a>

    </div>
  
  <ul class="md-nav__list" data-md-scrollfix>
    
      
      
      


  <li class="md-nav__item">
    <a href="../.." title="Einleitung" class="md-nav__link">
      Einleitung
    </a>
  </li>

    
      
      
      


  <li class="md-nav__item">
    <a href="../../0120-userinterface/0120-userinterface/" title="Bedienoberflächen" class="md-nav__link">
      Bedienoberflächen
    </a>
  </li>

    
      
      
      


  <li class="md-nav__item">
    <a href="../../0130-firststeps/0130-firststeps/" title="Erste Schritte" class="md-nav__link">
      Erste Schritte
    </a>
  </li>

    
      
      
      


  <li class="md-nav__item">
    <a href="../../0140-debugging/0140-debugging/" title="Fehler und De-Bugging" class="md-nav__link">
      Fehler und De-Bugging
    </a>
  </li>

    
      
      
      


  <li class="md-nav__item">
    <a href="../../0150-variables/0150-variables/" title="Variablen" class="md-nav__link">
      Variablen
    </a>
  </li>

    
      
      
      


  <li class="md-nav__item">
    <a href="../../0160-operators/0160-operators/" title="Operatoren" class="md-nav__link">
      Operatoren
    </a>
  </li>

    
      
      
      


  <li class="md-nav__item">
    <a href="../../0170-donutclicker/0170-donutclicker/" title="Spiel - Krapfenklicker" class="md-nav__link">
      Spiel - Krapfenklicker
    </a>
  </li>

    
      
      
      


  <li class="md-nav__item">
    <a href="../../0180-transform/0180-transform/" title="Transform Spielobjektkomponente" class="md-nav__link">
      Transform Spielobjektkomponente
    </a>
  </li>

    
      
      
      


  <li class="md-nav__item">
    <a href="../../0190-conditionals/0190-conditionals/" title="Verzweigungen" class="md-nav__link">
      Verzweigungen
    </a>
  </li>

    
      
      
      


  <li class="md-nav__item">
    <a href="../../0200-adventure/0200-adventure/" title="Spiel - Ellis' großes Abenteuer" class="md-nav__link">
      Spiel - Ellis' großes Abenteuer
    </a>
  </li>

    
      
      
      


  <li class="md-nav__item">
    <a href="../../0210-drawingingimp/0210-drawingingimp/" title="Grafiken gestalten in GIMP" class="md-nav__link">
      Grafiken gestalten in GIMP
    </a>
  </li>

    
      
      
      


  <li class="md-nav__item">
    <a href="../../0220-functions/0220-functions/" title="Funktionen" class="md-nav__link">
      Funktionen
    </a>
  </li>

    
      
      
      


  <li class="md-nav__item">
    <a href="../../0230-accessmodifiers/0230-accessmodifiers/" title="Zugriffskontrolle" class="md-nav__link">
      Zugriffskontrolle
    </a>
  </li>

    
      
      
      


  <li class="md-nav__item">
    <a href="../../0240-spaceshooter/0240-spaceshooter/" title="Spiel - Space-Asteroids" class="md-nav__link">
      Spiel - Space-Asteroids
    </a>
  </li>

    
      
      
      


  <li class="md-nav__item">
    <a href="../../0250-loops/0250-loops/" title="Schleifen" class="md-nav__link">
      Schleifen
    </a>
  </li>

    
      
      
      


  <li class="md-nav__item">
    <a href="../../0260-gameloop/0260-gameloop/" title="Die Spiel-Schleife" class="md-nav__link">
      Die Spiel-Schleife
    </a>
  </li>

    
      
      
      


  <li class="md-nav__item">
    <a href="../../0270-classes/0270-classes/" title="Objekt-orientiertes Programmieren - Grundlagen" class="md-nav__link">
      Objekt-orientiertes Programmieren - Grundlagen
    </a>
  </li>

    
      
      
      

  


  <li class="md-nav__item md-nav__item--active md-nav__item--nested">
    
      <input class="md-toggle md-nav__toggle" data-md-toggle="nav-18" type="checkbox" id="nav-18" checked>
    
    <label class="md-nav__link" for="nav-18">
      Spiel - BouncyFant
    </label>
    <nav class="md-nav" data-md-component="collapsible" data-md-level="1">
      <label class="md-nav__title" for="nav-18">
        Spiel - BouncyFant
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../T00-introduction/" title="Einführung" class="md-nav__link">
      Einführung
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../T01-adassets/" title="Teil 1 - Neues Projekt und Assets" class="md-nav__link">
      Teil 1 - Neues Projekt und Assets
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../T02-animstat/" title="Teil 2 - Animationen und States" class="md-nav__link">
      Teil 2 - Animationen und States
    </a>
  </li>

        
          
          
          

  


  <li class="md-nav__item md-nav__item--active">
    
    <input class="md-toggle md-nav__toggle" data-md-toggle="toc" type="checkbox" id="__toc">
    
      
    
    
      <label class="md-nav__link md-nav__link--active" for="__toc">
        Teil 3 - Bewegung
      </label>
    
    <a href="./" title="Teil 3 - Bewegung" class="md-nav__link md-nav__link--active">
      Teil 3 - Bewegung
    </a>
    
      
<nav class="md-nav md-nav--secondary">
  
  
    
  
  
    <label class="md-nav__title" for="__toc">Inhaltsverzeichnis</label>
    <ul class="md-nav__list" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#die-bewegung-der-elefantin-implementieren" title="Die Bewegung der Elefantin implementieren" class="md-nav__link">
    Die Bewegung der Elefantin implementieren
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#rigidbody2d" title="Rigidbody2D" class="md-nav__link">
    Rigidbody2D
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#wiederholung-der-c-grundlagen" title="Wiederholung der C# Grundlagen" class="md-nav__link">
    Wiederholung der C# Grundlagen
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#codebibliotheken" title="Codebibliotheken" class="md-nav__link">
    Codebibliotheken
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#sourcecode" title="Sourcecode" class="md-nav__link">
    Sourcecode
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
      
      
      
      
    </ul>
  
</nav>
    
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../T04-levels/" title="Teil 4 - Levels, Collider" class="md-nav__link">
      Teil 4 - Levels, Collider
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../T05-secondchar/" title="Teil 5 - Zweite Spielfigur" class="md-nav__link">
      Teil 5 - Zweite Spielfigur
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../T06-jump/" title="Teil 6 - Jump Around" class="md-nav__link">
      Teil 6 - Jump Around
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../T07-physics/" title="Teil 7 - Physikwelt" class="md-nav__link">
      Teil 7 - Physikwelt
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../T08-win/" title="Teil 8 - Gewinnbedingung" class="md-nav__link">
      Teil 8 - Gewinnbedingung
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../T09-finetuning/" title="Teil 9 - Finetuning" class="md-nav__link">
      Teil 9 - Finetuning
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../T10-deploy/" title="Teil 10 - Das Spiel Veröffentlichen" class="md-nav__link">
      Teil 10 - Das Spiel Veröffentlichen
    </a>
  </li>

        
      </ul>
    </nav>
  </li>

    
      
      
      


  <li class="md-nav__item">
    <a href="../../0290-about/0290-about/" title="Über learn2proGrAME" class="md-nav__link">
      Über learn2proGrAME
    </a>
  </li>

    
      
      
      


  <li class="md-nav__item">
    <a href="../../0300-teachers/0300-teachers/" title="Für Lehrpersonen" class="md-nav__link">
      Für Lehrpersonen
    </a>
  </li>

    
  </ul>
</nav>
                  </div>
                </div>
              </div>
            
            
              <div class="md-sidebar md-sidebar--secondary" data-md-component="toc">
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    
<nav class="md-nav md-nav--secondary">
  
  
    
  
  
    <label class="md-nav__title" for="__toc">Inhaltsverzeichnis</label>
    <ul class="md-nav__list" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#die-bewegung-der-elefantin-implementieren" title="Die Bewegung der Elefantin implementieren" class="md-nav__link">
    Die Bewegung der Elefantin implementieren
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#rigidbody2d" title="Rigidbody2D" class="md-nav__link">
    Rigidbody2D
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#wiederholung-der-c-grundlagen" title="Wiederholung der C# Grundlagen" class="md-nav__link">
    Wiederholung der C# Grundlagen
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#codebibliotheken" title="Codebibliotheken" class="md-nav__link">
    Codebibliotheken
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#sourcecode" title="Sourcecode" class="md-nav__link">
    Sourcecode
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
      
      
      
      
    </ul>
  
</nav>
                  </div>
                </div>
              </div>
            
          
          <div class="md-content">
            <article class="md-content__inner md-typeset">
              
                
                  <a href="https://github.com/learn2proGrAME/learn2proGrAME-Grundlagen/edit/master/docs/0280-bouncyfant/T03-movement.md" title="Seite editieren" class="md-icon md-content__icon">&#xE3C9;</a>
                
                
                <h1 id="teil-3-bewegung">Teil 3 - Bewegung<a class="headerlink" href="#teil-3-bewegung" title="Permanent link">&para;</a></h1>
<div class="admonition abstract">
<p class="admonition-title">Lernziele</p>
<p>In diesem Kapitel lernst du, wie du deine Spielfigur steuerbar machen kannst. Du lernst wie man Tasten im Input Manager einstellt. Anschließend lernst du, wie man ein Script schreibt, über das du deine Figur dann bewegen kannst.</p>
</div>
<table>
<thead>
<tr>
<th>In diesem Kapitel wirst du...</th>
</tr>
</thead>
<tbody>
<tr>
<td>Die Steuerung deiner Figur einstellen.</td>
</tr>
<tr>
<td>Die RigidBody 2D Komponente zu deiner Figur hinzufügen.</td>
</tr>
<tr>
<td>Ein Script schreiben, dass es deiner Figur erlaubt sich zu bewegen.</td>
</tr>
<tr>
<td>Das Script zu deiner Spielfigur hinzufügen.</td>
</tr>
</tbody>
</table>
<h3 id="die-bewegung-der-elefantin-implementieren">Die Bewegung der Elefantin implementieren<a class="headerlink" href="#die-bewegung-der-elefantin-implementieren" title="Permanent link">&para;</a></h3>
<p>Bevor wir mit der Realisierung der Bewegung starten, benennen wir unsere Spielfigur einmal um, damit wir uns später, wenn wir mehrere Figuren haben, besser orientieren können. Ich habe den Namen Elli gewählt. Einfach mit rechten Maustaste draufklicken und auf Rename klicken. Alternativ kannst du auch den Namen anklicken und F2 drücken.</p>
<p><img alt="Rename Gameobject" src="../img/T03/T03-a-Elefant umbenennen.png" />
<!-- elefanti verwirrender name? --></p>
<p>Zuerst kümmern wir uns um die Tasten-Eingabe für die Bewegung. Unter <em>Edit -&gt; Project Settings -&gt; Input</em> kann man den <em>Input Manager</em> aufrufen.</p>
<p><img alt="Input Manager" src="../img/T03/T03-b-Input Settings bearbeiten.png" /></p>
<p>Im Input Manager siehst du eine Horizontal Achse und eine Vertikal Achse. Diese benennen wir im ersten Schritt mal um. Ich habe sie hier mit <strong>“H-AchseElli”</strong>  bzw. <strong>“V-AchseElli”</strong> benannt. Diesen Namen brauchen wir später noch beim Programmieren. Bei den Achsen steht jeweils Positive Button und Negative Button mit je einem Feld wo man eine Taste eintragen kann.</p>
<p>Dieser Positive/Negative Button macht Sinn wenn du dir ein Koordinatensystem vorstellst. In so einem System ist auf der Horizontal Achse, Positiv nach Rechts, und Negativ nach Links bzw. auf der Vertikalachse, Positiv nach Oben und Negativ nach Unten. Wenn jemand die Taste drückt die bei der HorizontalAchse Positiv Button ist, bewegt sich die Figur nach Rechts.</p>
<p>Du kannst also jetzt die Tasten für die jeweiligen Bewegungsrichtungen eintragen, so wie du denkst die Steuerung ist am Besten. Ein Beispiel hierfür wäre:</p>
<ul>
<li>H-AchseElli<ul>
<li>Negative Button: a</li>
<li>Positiv Button: d</li>
<li>Type: Key or Mouse Button</li>
</ul>
</li>
<li>V-AchseElli<ul>
<li>Negative Button: s</li>
<li>Positiv Button: w</li>
<li>Type: Key or Mouse Button</li>
</ul>
</li>
</ul>
<div class="admonition bug">
<p class="admonition-title">WICHTIG</p>
<p>Stelle sicher, dass unter Type “Key or Mouse Button” ausgewählt ist, ansonsten funktionieren unsere Einstellungen nicht richtig.</p>
</div>
<p><img alt="Input Manager" src="../img/T03/T03-c-Inputachsen umbenennen.png" /></p>
<p>Da wir gerade die Projekteinstellungen geändert haben, ist es wichtig nun auch das Projekt zu speichern. Das geschieht durch das Anklicken von <em>File</em> und <em>Save Project</em>.</p>
<p><img alt="save project" src="../img/T03/T03-c-Projekt speichern.png" /></p>
<h3 id="rigidbody2d">Rigidbody2D<a class="headerlink" href="#rigidbody2d" title="Permanent link">&para;</a></h3>
<p>Da Elli kein unbewegliches Objekt in unserem Spiel sein wird, brauchen wir eine Komponente, die uns hilft Elli zu bewegen, die Bewegungen zu berechnen und sogar die Physik auf sie wirken zu lassen. Glücklicherweise bietet Unity genau so eine Komponente an, die sich um all die Dinge, wie Bewegung, Berechnung physikalischer Vorgänge und Eigenschaften, Kollisionen, elastische Stöße und dergleichen kümmert. Diese Komponente nennt sich Rigidbody2D. Rigid bedeutet so viel wie “starr”, und dass der Körper starr ist, kommt uns sehr gelegen, denn wir brauchen uns nicht darum kümmern, eine ganze Skellettstruktur für Elli zu modellieren.  Einen Rigidbody2D erstellen wir, indem wir im Hierarchy Panel auf Elli draufklicken und dann im Inspector Panel auf der rechten Seite auf <em>Add Component -&gt; Physics2D -&gt; Rigidbody 2D</em> klicken.</p>
<p><img alt="add rigidbody component menu" src="../img/T03/T03-d-Rigidbody hinzufuegen 2.png" />
<!-- <img alt="roter Pfeil" src="img/T03/roter Pfeil.png" /> -->
<!-- noch zu formatieren -->
<img alt="add rigidbody component option" src="../img/T03/T03-d-Rigidbody hinzufuegen.png" /></p>
<p>Um die Bewegung zu programmieren, benötigen wir ein Script, das der Spielfigur Elli hinzugefügt wird. Dieses Script erstellen wir, indem wir im <em>Hierarchy Panel</em> auf Elli klicken und dann im Inspector Panel auf der rechten Seite auf A<em>dd Component -&gt; NewScript -&gt; Create and Add</em> (siehe Screenshot) klicken.</p>
<p><img alt="add script menu" src="../img/T03/T03-e-Neues Script erstellen 1.png" />
<!-- <img alt="roter Pfeil" src="img/T03/roter Pfeil.png" /> -->
<!-- noch zu formatieren -->
<img alt="add script option" src="../img/T03/T03-f-Neues Script erstellen 2.png" /></p>
<p>Das eben erstellte Script befindet sich nun im Projekt im Asset Panel. Wir verschieben es jedoch in das Unterverzeichnis Scripts.</p>
<p>Durch einen Doppelklick auf das Script öffnet sich Visual Studio und wir können nun mit dem Programmieren beginnen.</p>
<h4 id="wiederholung-der-c-grundlagen">Wiederholung der C# Grundlagen<a class="headerlink" href="#wiederholung-der-c-grundlagen" title="Permanent link">&para;</a></h4>
<p><strong>Kommentar</strong>:</p>
<p>In C-Sprachen sind Zeilen, die mit <code>//</code> beginnen, Kommentare. Das sind Texte, die vom Compiler ignoriert werden, also nur für den Programmierer sichtbar sind. Diese Zeilen erklären das Programm für später oder andere Programmierer. KOmmentare werden grün angezeigt.</p>
<p><strong>Variablen</strong>:</p>
<p>Eine Variable kann wie in der Mathematik einfach Zahlen enthalten. Allerdings gibt es nicht nur <em>Datentypen</em> für Zahlen, sondern auch Text. Der Datentyp einer Variable wird in C-Sprachen immer vor dem Namen einer neuen Variable angegeben.</p>
<div class="codehilite"><pre><span></span>    <span class="n">String</span> <span class="n">name</span> <span class="p">=</span> <span class="err">“</span><span class="n">Jenny</span><span class="err">”</span><span class="p">;</span>
    <span class="n">integer</span> <span class="n">alter</span> <span class="p">=</span> <span class="m">12</span><span class="p">;</span>
    <span class="n">alter</span> <span class="p">=</span> <span class="n">alter</span> <span class="p">+</span> <span class="m">1</span><span class="p">;</span>
</pre></div>


<p>Diese beiden Variablen “name” und “alter” werden gleich bei der <em>Deklaration</em> (Das erste mal definieren) mit Werten belegt durch <code>=</code>. Den Wert kann man später auch ändern.. Am Ende dieser Codestelle enthält die Variable “alter” den Wert 13.</p>
<p><strong>Funktionen</strong>:</p>
<p>Sie beinhalten Algorithmen, also Problemlöseverfahren mit endlich vielen Schritten.
<!-- Definition von Algorithmus VB -->
Eine Funktion ist deshalb nützlich, weil ein spezielle Berechnung nicht öfters programmiert werden muss, sondern öfters abrufbar ist. Gibt es Daten, die von der Funktion verarbeitet werden müssen (=<em>Parameter</em>), werden diese beim Funktionsaufruf in runden Klammern mitgeteilt. Wird im aufrufenden Codestück ein Ergebniswert benötigt, muss die Funktion mit dem Keyword <em>return</em> ein Ergebnis zurückliefern! Der Datentyp, der von return geliefert werden muss, steht vor dem Funktionsnamen ( bei der Funktion <em a_="a;" class=".." return="return">integer addieren()</em> ist der return-Datentyp <em>integer</em>!). Liefert eine Funktion nichts zurück, nennt man sie Prozedur. Es entfällt das Keyword “return” am Ende der Prozedur. Als return-Datentyp wird “void” (engl. “nichts”) angegeben. Beispiel:</p>
<div class="codehilite"><pre><span></span><span class="kt">double</span> <span class="n">a</span> <span class="p">=</span> <span class="m">1.5</span><span class="p">;</span> <span class="c1">//&quot;double&quot; ist der gängige Datentyp für Kommazahlen</span>
<span class="kt">double</span> <span class="n">b</span> <span class="p">=</span> <span class="m">4.3</span><span class="p">;</span> <span class="c1">//a und b werden unten als Parameter für die Funktion verwendet</span>
<span class="n">integer</span> <span class="n">c</span> <span class="p">=</span> <span class="m">0</span><span class="p">;</span>  <span class="c1">//integer kann nur ganze Zahlen speichern. Speichert man darin eine Kommazahl, wird nicht gerundet, sondern die Kommastellen werden einfach gelöscht!</span>
<span class="n">integer</span> <span class="nf">addieren_int</span><span class="p">(</span><span class="kt">double</span>  <span class="n">a</span><span class="p">,</span> <span class="kt">double</span> <span class="n">b</span><span class="p">)</span> <span class="p">{</span>
    <span class="k">return</span> <span class="n">a</span> <span class="p">+</span> <span class="n">b</span><span class="p">;</span> <span class="c1">//das Zwischenergebnis ist hier 1.5 + 4.3 = 5.8</span>
<span class="p">}</span>
<span class="n">c</span> <span class="p">=</span> <span class="n">addieren_int</span><span class="p">(</span><span class="n">a</span><span class="p">,</span><span class="n">b</span><span class="p">);</span>
</pre></div>


<p>Diese Funktion “addieren_int” addiert zwei Kommazahlen (double) und gibt eine Integer-Zahl (Zahl ohne Kommastellen) zurück. In der Variable “c” ist nachher “5” gespeichert.</p>
<p><strong>Class</strong>: Klassen sind vom Programmierer und Programmierinnen erstellte Datentypen. Diese enthalten Eigenschaften in Form von Variablen und Algorithmen in Form von Funktionen (etwa eine Funktion, die das Alter erhöht). Zu einer Klasse zugehörige Funktionen nennt man auch <em>Methoden</em>. Die Variablen einer Klasse werden auch Member(-variablen) genannt, da sie ohne einem Objekt nicht existieren.
Etwa definiert die Klasse “Katze” die Eigenschaften Farbe, Alter und die Methode gehen(), miauen(), etc. Das Objekt Schnurli ist weiß, 2 Jahre alt und kann gehen und miauen.
Das könnte in C# so programmiert sein:</p>
<div class="codehilite"><pre><span></span><span class="k">public</span> <span class="k">class</span> <span class="nc">Elefant</span> <span class="p">{</span>
    <span class="k">public</span> <span class="n">String</span> <span class="n">farbe</span><span class="p">;</span>
    <span class="k">public</span> <span class="kt">int</span> <span class="n">alter</span><span class="p">;</span>
    <span class="n">Elefant</span><span class="p">()</span> <span class="p">{</span> <span class="p">}</span> <span class="c1">//Die Methode mit dem selben Namen wie die Klasse nennt man Konstruktor. Er wird hier aber nicht verwendet. Man könnte damit die Variablen oben belegen lassen!</span>
    <span class="n">gehen</span><span class="p">()</span> <span class="p">{</span> <span class="p">}</span>  <span class="c1">//nicht ausprogrammiert</span>
    <span class="n">troeten</span><span class="p">(</span><span class="kt">int</span> <span class="n">anzahl</span><span class="p">)</span> <span class="p">{</span>
        <span class="k">while</span><span class="p">(</span><span class="n">anzahl</span> <span class="p">&gt;</span> <span class="m">0</span><span class="p">)</span> <span class="p">{</span>
            <span class="n">Console</span><span class="p">.</span><span class="n">WriteLine</span><span class="p">(</span><span class="s">&quot;Töröööö! &quot;</span><span class="p">);</span> <span class="c1">//In einem Textfenster wird</span>
                                <span class="s">&quot;Töröööö!&quot;</span> <span class="n">ausgegeben</span>
            <span class="n">anzahl</span><span class="p">--;</span> <span class="c1">//der Parameter Anzahl wird reduziert um 1</span>
        <span class="p">}</span>
    <span class="p">}</span>
<span class="p">}</span>
<span class="n">Katze</span> <span class="n">benjamin</span> <span class="p">=</span> <span class="k">new</span> <span class="n">Elefant</span><span class="p">();</span> <span class="c1">//Dieser Konstruktor erfordert keine Variablen</span>
<span class="n">benjamin</span><span class="p">.</span><span class="n">farbe</span> <span class="p">=</span> <span class="s">&quot;grau&quot;</span><span class="p">;</span>
<span class="n">benjamin</span><span class="p">.</span><span class="n">alter</span> <span class="p">=</span> <span class="m">30</span><span class="p">;</span>
<span class="n">benjamin</span><span class="p">.</span><span class="n">troeten</span><span class="p">(</span><span class="m">2</span><span class="p">);</span>
</pre></div>


<p><em>Ausgabe in Konsole: “Töröööö! Töröööö! ”.</em></p>
<p><strong>Zugriff und Punktoperator</strong>: wie im Beispiel oben ersichtlich ist, kann mittels diesem <strong>.</strong> auf eine Variable eines Objektes zugegriffen werden wie bei</p>
<div class="codehilite"><pre><span></span><span class="n">benjamin</span><span class="p">.</span><span class="n">farbe</span> <span class="p">=</span> <span class="s">&quot;grau&quot;</span><span class="p">;</span>
</pre></div>


<p>Variablen von Objekten können nur dann mit <strong>.</strong> gelesen und geschrieben werden, wenn der zugriff darauf bei der <em>Deklaration</em> mit dem keyword <em>public</em> erlaubt wurde. Wie hier:</p>
<div class="codehilite"><pre><span></span><span class="k">public</span> <span class="n">String</span> <span class="n">farbe</span><span class="p">;</span>
</pre></div>


<p><strong>Instanz</strong>: oder Objekt wird aufgrund der Vorgaben der zugehörigen Klasse erzeugt. Das Objekt enthält die von der Klasse definierten Variablen und kann diese befüllen.
<strong>Vererbung</strong>: ist das wichtigste Konzept bei der Verwendung von Klassen oder Objekten (Objektorientierung). Im Code steht etwa:
public class Elli : MonoBehaviour { …
Das bedeutet, dass die neue, hier definierte, Klasse Elli (meist alle) Variablen und Methoden von Monobehaviour erbt, diese also auch Elli zur Verfügung stehen. MonoBehaviour ist eine zentrale von Unity schon vorgegebene Klasse, die u.a. Zugriff auf viele Komponenten zulässt, wie RigidBody, das wir einen Abschnitt weiter oben schon bei der Spielfigur hinzugefügt haben.</p>
<h4 id="codebibliotheken">Codebibliotheken<a class="headerlink" href="#codebibliotheken" title="Permanent link">&para;</a></h4>
<div class="codehilite"><pre><span></span><span class="k">using</span> <span class="nn">System.Collections</span><span class="p">;</span>
<span class="k">using</span> <span class="nn">System.Collections.Generic</span><span class="p">;</span>
<span class="k">using</span> <span class="nn">UnityEngine</span><span class="p">;</span>
</pre></div>


<p>Das Keyword <em>using</em> importiert jeweils vorhandene Codebibliotheken (Sammlungen an Sachen die jemand anderer bereits programmiert hat und wir verwenden können) auf die im Script dadurch zugegriffen werden kann. Etwa wird die UnityEngine Bibliothek importiert, die das <em>MonoBehaviour</em> zur Verfügung stellt. In Unity müssen alle C#-Codedateien eine Klasse, die von Monobehaviour erbt, beinhalten. Dadurch werden u.a. die Funktionen Update() oder FixedUpdate() verfügbar, die später erklärt werden.</p>
<!--
Erklärung von häufigen Codeelementen
man könnte noch erklärungen anführen zu
public/private:
If , Bedinungssyntax:
funktion/prozedur: aufruf und return
datentypen?
schleifen?
-->

<div class="admonition bug">
<p class="admonition-title">Achtung</p>
<p>Beachte bitte, dass der Name der Klasse (Elli) jedenfalls mit dem Namen der Code-Datei (Script) übereinstimmen muss. Du hast die Code-Datei wahrscheinlich nicht <em>Elli</em> genannt und musst in folgender Zeile Elli mit diesem Dateinamen ersetzen:</p>
</div>
<div class="codehilite"><pre><span></span><span class="k">public</span> <span class="k">class</span> <span class="nc">Elli</span> <span class="p">:</span> <span class="n">MonoBehaviour</span> <span class="p">{</span>
</pre></div>


<p>Das Ergebnis ist dann:</p>
<div class="codehilite"><pre><span></span><span class="k">public</span> <span class="k">class</span> <span class="p">[</span><span class="n">MeinScriptName</span><span class="p">]:</span> <span class="n">MonoBehaviour</span> <span class="p">{</span>
</pre></div>


<p><img alt="VS neues Script" src="../img/T03/T03-g-Visual Studio Neues Script.png" /></p>
<p>Am Anfang nehmen wir in unserem Script ein paar kleine Änderungen vor. In der Kommentarzeile ersetzen wir die englische Anmerkung durch die Zeile <code>// Anfangseinstellungen setzen</code>  und die Prozedur <code>Update</code> benennen wir in <code>FixedUpdate</code> um. <code>FixedUpdate</code> sorgt nämlich dafür, dass das Spiel auf unterschiedlich schnellen Geräten (egal ob auf einem älteren Notebook, einem Smartphone, oder einem brandneuen Gaming PC) immer gleich schnell läuft. Schnell meint in diesem Fall <strong>nicht</strong> die Framerate (FPS), sondern wie schnell sich die Spielfigur und die Objekte im Spiel bewegen. Obwohl sich nun die Spielfigur auf allen Plattformen gleich schnell am Bildschirm herum bewegt, hat man auf dem neuen Gaming-Monster-PC eine höhere Framerate als auf einem uralten Notebook.</p>
<div class="codehilite"><pre><span></span><span class="c1">// Anfangseinstellungen setzen</span>
<span class="k">void</span> <span class="nf">Start</span> <span class="p">()</span>
<span class="p">{</span>

<span class="p">}</span>

<span class="c1">// Fixed Update wird immer in einem fixen Intervall aufgerufen.</span>
<span class="k">void</span> <span class="nf">FixedUpdate</span><span class="p">()</span>
<span class="p">{</span>

<span class="p">}</span>
</pre></div>


<p>Der nachfolgende Quellcode, um die Bewegung von Elli zu realisieren, ist ein wenig komplizierter. Deshalb betrachten wir das Einbauen der Prozedur Gehen nun als Übung im Umgang mit dem Quellcode. Im Prinzip machen wir in der Prozedur <code>Gehen</code> folgendes:
Wir berechnen aus dem Wert, den wir aus der horizontalen Eingabe-Achse abfragen, die horizontale (seitliche) Bewegung des Elefantenkörpers.
Wir bestimmen anhand der Bewegung des Elefantenkörpers die Blickrichtung.
Wir übermitteln die Bewegungsgeschwindigkeit an die Animation in Unity.
Dabei kümmert sich Unity um einige Dinge, um die wir uns nun nicht mehr kümmern brauchen:
Unity übernimmt die Abfrage der Tasten-Eingabe des Spielers für uns.
Unity kümmert sich ebenso um die Bewegung des Elefantenkörpers.
Wir müssen lediglich die aktuelle Geschwindigkeit von Elli unserer Animation übermitteln.</p>
<p>Den nachfolgenden Quellcode fügen wir zwischen der geschwungenen Klammer { am Ende der Prozedur Start und den Kommentar vor FixedUpdate hinein.</p>
<div class="admonition tip">
<p class="admonition-title">Tipp</p>
<p>Bei Interesse wird der Code in den Kommentaren genauer erklärt.</p>
</div>
<div class="codehilite"><pre><span></span><span class="c1">// Prozedur zum Bewegen des Elefanten</span>
<span class="c1">// Der Parameter h ist 1 oder -1, wenn der Spieler die Taste für nach links oder rechts drückt. Sonst 0.</span>
<span class="c1">//Bei Steuerung des Elefanten mit Maus müsste man von h den Absolutbetrag</span>
<span class="c1">//nehmen mit Mathf.Sign(h)</span>
<span class="k">protected</span> <span class="k">void</span> <span class="nf">Gehen</span><span class="p">(</span><span class="kt">float</span> <span class="n">h</span><span class="p">)</span>
<span class="p">{</span>
    <span class="cm">/* Geschwindigkeit setzen</span>
<span class="cm">        * Die aktuelle Bewegungsgeschwindigkeit des Elefanten wird als Vektor</span>
<span class="cm">        *  an Unity weitergeleitet. Die horizontale Geschwindigkeit (seitwärts)</span>
<span class="cm">        *  wird hier auf die vorher festgelegte maximale Geschwindigkeit gesetzt.</span>
<span class="cm">        * Der Vektor speichert horizontale</span>
<span class="cm">        * und vertikale Geschwindigkeit Vector2(x, y).</span>
<span class="cm">        */</span>
    <span class="n">Elefantenkoerper</span><span class="p">.</span><span class="n">velocity</span> <span class="p">=</span> <span class="k">new</span> <span class="n">Vector2</span><span class="p">(</span><span class="n">h</span> <span class="p">*</span> <span class="n">MaxGeschwindigkeit</span><span class="p">,</span>   <span class="n">Elefantenkoerper</span><span class="p">.</span><span class="n">velocity</span><span class="p">.</span><span class="n">y</span><span class="p">);</span>

    <span class="cm">/* Blickrichtung des Elefanten bestimmen.</span>
<span class="cm">        * Der Vektor für die Blickrichtung soll ein Vektor sein,</span>
<span class="cm">        * der sich aus dem Vorzeichenrückgabewert (-1 oder +1)</span>
<span class="cm">        * der horizontalen Bewegungsrichtung (Mathf.Sign(h)) ergibt.</span>
<span class="cm">        * Der y-Wert des Elefanten bleibt gleich, daher transform.localScale.y.       </span>
<span class="cm">        */</span>
    <span class="k">if</span> <span class="p">(</span><span class="n">h</span> <span class="p">!=</span> <span class="m">0</span><span class="p">)</span> <span class="n">transform</span><span class="p">.</span><span class="n">localScale</span> <span class="p">=</span> <span class="k">new</span> <span class="n">Vector2</span><span class="p">(</span><span class="n">Mathf</span><span class="p">.</span><span class="n">Sign</span><span class="p">(</span><span class="n">h</span><span class="p">),</span> <span class="n">transform</span><span class="p">.</span><span class="n">localScale</span><span class="p">.</span><span class="n">y</span><span class="p">);</span>

    <span class="cm">/* Die Geschwindigkeit wird auf den Absolutbetrag der horizontalen</span>
<span class="cm">        * Bewegung gesetzt. Negative Geschwindigkeit gibt es nicht.</span>
<span class="cm">        * z.B. wenn ich mit dem Auto im Rückwärtsgang 10km/h fahre, fahre ich</span>
<span class="cm">        * 10km/h in einer Rückwärtsbewegung und nicht &quot;-10km/h&quot; ;)</span>
<span class="cm">        */</span>
    <span class="n">Animation</span><span class="p">.</span><span class="n">SetFloat</span><span class="p">(</span><span class="s">&quot;Geschwindigkeit&quot;</span><span class="p">,</span> <span class="n">Mathf</span><span class="p">.</span><span class="n">Abs</span><span class="p">(</span><span class="n">h</span><span class="p">));</span>
<span class="p">}</span>
</pre></div>


<p>Nachdem wir dies gemacht haben, erhalten wir vorerst jede Menge Fehler da ja etwa Variablen wie Max Geschwindigkeit oder Objekte wie Elefanten Körper noch gar nicht existieren.</p>
<p><img alt="Fehler in Konsole" src="../img/T03/T03-h-Einige Fehler voellig normal - don't panic.png" /></p>
<p>Diese Variablen wollen wir im nächsten Schritt definieren und gleich in der Prozedur Start mit den entsprechenden Komponenten verlinken:</p>
<div class="codehilite"><pre><span></span><span class="k">public</span> <span class="k">class</span> <span class="nc">Elli</span> <span class="p">:</span> <span class="n">MonoBehaviour</span> <span class="p">{</span>
    <span class="k">protected</span> <span class="n">Rigidbody2D</span> <span class="n">Elefantenkoerper</span><span class="p">;</span>
    <span class="k">protected</span> <span class="n">Animator</span> <span class="n">Animation</span><span class="p">;</span>
    <span class="k">public</span> <span class="kt">float</span> <span class="n">MaxGeschwindigkeit</span> <span class="p">=</span> <span class="m">10</span><span class="p">;</span>

    <span class="c1">// Anfangseinstellungen setzen</span>
    <span class="k">void</span> <span class="nf">Start</span> <span class="p">()</span>
    <span class="p">{</span>
        <span class="c1">// Elefant mit RigidBody verlinken</span>
        <span class="n">Elefantenkoerper</span> <span class="p">=</span> <span class="n">GetComponent</span><span class="p">&lt;</span><span class="n">Rigidbody2D</span><span class="p">&gt;();</span>

        <span class="c1">// Eine Referenz auf den Animator hinzufügen</span>
        <span class="n">Animation</span> <span class="p">=</span> <span class="n">GetComponent</span><span class="p">&lt;</span><span class="n">Animator</span><span class="p">&gt;();</span>
    <span class="p">}</span>
</pre></div>


<p>Nun müssen wir noch in der Prozedur <em>FixedUpdate</em> die vorhin erstellte Prozedur <em>Gehen</em> aufrufen.</p>
<div class="codehilite"><pre><span></span><span class="c1">// Fixed Update wird immer in einem fixen Intervall aufgerufen.</span>
    <span class="k">void</span> <span class="nf">FixedUpdate</span><span class="p">()</span>
    <span class="p">{</span>
        <span class="n">Gehen</span><span class="p">(</span><span class="n">Input</span><span class="p">.</span><span class="n">GetAxis</span><span class="p">(</span><span class="s">&quot;H-AchseElli&quot;</span><span class="p">));</span>
    <span class="p">}</span>
</pre></div>


<p>Der gesamte Quellcode sieht nun wie folgt aus:</p>
<div class="codehilite"><pre><span></span><span class="k">using</span> <span class="nn">System.Collections</span><span class="p">;</span>
<span class="k">using</span> <span class="nn">System.Collections.Generic</span><span class="p">;</span>
<span class="k">using</span> <span class="nn">UnityEngine</span><span class="p">;</span>

<span class="k">public</span> <span class="k">class</span> <span class="nc">Elli</span> <span class="p">:</span> <span class="n">MonoBehaviour</span> <span class="p">{</span>
    <span class="k">protected</span> <span class="n">Rigidbody2D</span> <span class="n">Elefantenkoerper</span><span class="p">;</span>
    <span class="k">protected</span> <span class="n">Animator</span> <span class="n">Animation</span><span class="p">;</span>
    <span class="k">public</span> <span class="kt">float</span> <span class="n">MaxGeschwindigkeit</span> <span class="p">=</span> <span class="m">10</span><span class="p">;</span>

    <span class="c1">// Anfangseinstellungen setzen</span>
    <span class="k">void</span> <span class="nf">Start</span> <span class="p">()</span>
    <span class="p">{</span>
        <span class="c1">// Elefant mit RigidBody verlinken</span>
        <span class="n">Elefantenkoerper</span> <span class="p">=</span> <span class="n">GetComponent</span><span class="p">&lt;</span><span class="n">Rigidbody2D</span><span class="p">&gt;();</span>

        <span class="c1">// Eine Referenz auf den Animator hinzufügen</span>
        <span class="n">Animation</span> <span class="p">=</span> <span class="n">GetComponent</span><span class="p">&lt;</span><span class="n">Animator</span><span class="p">&gt;();</span>
    <span class="p">}</span>

    <span class="c1">// Prozedur zum Bewegen des Elefanten</span>
    <span class="k">protected</span> <span class="k">void</span> <span class="nf">Gehen</span><span class="p">(</span><span class="kt">float</span> <span class="n">h</span><span class="p">)</span>
    <span class="p">{</span>
        <span class="cm">/* Geschwindigkeit setzen</span>
<span class="cm">            * Die Geschwindigkeit ergibt sich aus aus der Eingabe für die horizontale</span>
<span class="cm">            * Geschwindigkeit und der maximalen Höchstgeschwindigkeit des Elefanten</span>
<span class="cm">            */</span>
        <span class="n">Elefantenkoerper</span><span class="p">.</span><span class="n">velocity</span> <span class="p">=</span> <span class="k">new</span> <span class="n">Vector2</span><span class="p">(</span><span class="n">h</span> <span class="p">*</span> <span class="n">MaxGeschwindigkeit</span><span class="p">,</span> <span class="n">Elefantenkoerper</span><span class="p">.</span><span class="n">velocity</span><span class="p">.</span><span class="n">y</span><span class="p">);</span>

        <span class="cm">/* Blickrichtung des Elefanten bestimmen.</span>
<span class="cm">            * Der Vektor für die Blickrichtung soll ein Vektor sein,</span>
<span class="cm">            * der sich aus dem Vorzeichenrückgabewert (-1 oder +1)</span>
<span class="cm">            * der horizontalen Bewegungsrichtung (Mathf.Sign(h)) und</span>
<span class="cm">            * dem Skalierungsfaktor auf der x-Achse ergibt.</span>
<span class="cm">            * Der y-Wert des Elefanten bleibt gleich, daher nehmen wir nur den</span>
<span class="cm">            * Skalierungsfaktor &quot;transform.localScale.y&quot;.       </span>
<span class="cm">            */</span>
        <span class="k">if</span> <span class="p">(</span><span class="n">h</span> <span class="p">!=</span> <span class="m">0</span><span class="p">)</span> <span class="n">transform</span><span class="p">.</span><span class="n">localScale</span> <span class="p">=</span> <span class="k">new</span> <span class="n">Vector2</span><span class="p">(</span><span class="n">Mathf</span><span class="p">.</span><span class="n">Sign</span><span class="p">(</span><span class="n">h</span><span class="p">)*</span><span class="n">Mathf</span><span class="p">.</span><span class="n">Abs</span><span class="p">(</span><span class="n">transform</span><span class="p">.</span><span class="n">localScale</span><span class="p">.</span><span class="n">x</span><span class="p">),</span> <span class="n">transform</span><span class="p">.</span><span class="n">localScale</span><span class="p">.</span><span class="n">y</span><span class="p">);</span>

        <span class="cm">/* Die Geschwindigkeit wird auf den Absolutbetrag der horizontalen</span>
<span class="cm">            * Bewegung gesetzt. Negative Geschwindigkeit gibt es nicht.</span>
<span class="cm">            * z.B. wenn ich mit dem Auto im Rückwärtsgang 10km/h fahre, fahre ich</span>
<span class="cm">            * 10km/h in einer Rückwärtsbewegung und nicht &quot;-10km/h&quot;</span>
<span class="cm">            */</span>
        <span class="n">Animation</span><span class="p">.</span><span class="n">SetFloat</span><span class="p">(</span><span class="s">&quot;Geschwindigkeit&quot;</span><span class="p">,</span> <span class="n">Mathf</span><span class="p">.</span><span class="n">Abs</span><span class="p">(</span><span class="n">h</span><span class="p">));</span>
    <span class="p">}</span>

    <span class="c1">// Fixed Update wird immer in einem fixen Intervall aufgerufen.</span>
    <span class="k">void</span> <span class="nf">FixedUpdate</span><span class="p">()</span>
    <span class="p">{</span>
        <span class="n">Gehen</span><span class="p">(</span><span class="n">Input</span><span class="p">.</span><span class="n">GetAxis</span><span class="p">(</span><span class="s">&quot;H-AchseElli&quot;</span><span class="p">));</span>
    <span class="p">}</span>
<span class="p">}</span>
</pre></div>


<p>Wenn wir nun auf Play drücken und das Spiel starten, dann fällt Elli ins bodenlose Leere. Deshalb setzen wir im Inspector Panel bei Rigidbody2D von Elli <em>Gravity Scale</em> kurzfristig auf Null. So können wir auch testen, ob wir die Bewegung erfolgreich implementiert haben.</p>
<p><img alt="Gravity scale" src="../img/T03/T03-i-Gravity Scale 0.png" /></p>
<hr />
<h4 id="sourcecode">Sourcecode<a class="headerlink" href="#sourcecode" title="Permanent link">&para;</a></h4>
<p><a href="https://github.com/learn2proGrAME/proGrAME-Beispiele-und-Quellcodes/blob/master/BouncyFant/T03/Bouncy%20Fant%2003.zip">Download Sourcecode Teil 03</a></p>
                
                  
                
              
              
                


              
            </article>
          </div>
        </div>
      </main>
      
        
<footer class="md-footer">
  
    <div class="md-footer-nav">
      <nav class="md-footer-nav__inner md-grid">
        
          <a href="../T02-animstat/" title="Teil 2 - Animationen und States" class="md-flex md-footer-nav__link md-footer-nav__link--prev" rel="prev">
            <div class="md-flex__cell md-flex__cell--shrink">
              <i class="md-icon md-icon--arrow-back md-footer-nav__button"></i>
            </div>
            <div class="md-flex__cell md-flex__cell--stretch md-footer-nav__title">
              <span class="md-flex__ellipsis">
                <span class="md-footer-nav__direction">
                  Zurück
                </span>
                Teil 2 - Animationen und States
              </span>
            </div>
          </a>
        
        
          <a href="../T04-levels/" title="Teil 4 - Levels, Collider" class="md-flex md-footer-nav__link md-footer-nav__link--next" rel="next">
            <div class="md-flex__cell md-flex__cell--stretch md-footer-nav__title">
              <span class="md-flex__ellipsis">
                <span class="md-footer-nav__direction">
                  Weiter
                </span>
                Teil 4 - Levels, Collider
              </span>
            </div>
            <div class="md-flex__cell md-flex__cell--shrink">
              <i class="md-icon md-icon--arrow-forward md-footer-nav__button"></i>
            </div>
          </a>
        
      </nav>
    </div>
  
  <div class="md-footer-meta md-typeset">
    <div class="md-footer-meta__inner md-grid">
      <div class="md-footer-copyright">
        
          <div class="md-footer-copyright__highlight">
            Copyright &copy; 2019 learn2proGrAME
          </div>
        
        powered by
        <a href="https://www.mkdocs.org">MkDocs</a>
        and
        <a href="https://squidfunk.github.io/mkdocs-material/">
          Material for MkDocs</a>
      </div>
      
        
  <div class="md-footer-social">
    <link rel="stylesheet" href="../../assets/fonts/font-awesome.css">
    
      <a href="https://github.com/learn2proGrAME" class="md-footer-social__link fa fa-github"></a>
    
  </div>

      
    </div>
  </div>
</footer>
      
    </div>
    
      <script src="../../assets/javascripts/application.9e1f3b71.js"></script>
      
        
        
          
          <script src="../../assets/javascripts/lunr/lunr.stemmer.support.js"></script>
          
            
              
              
                <script src="../../assets/javascripts/lunr/lunr.de.js"></script>
              
            
          
          
        
      
      <script>app.initialize({version:"1.0.4",url:{base:"../.."}})</script>
      
    
    
      
    
  </body>
</html>